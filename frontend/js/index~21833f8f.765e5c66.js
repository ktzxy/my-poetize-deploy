(window.webpackJsonp=window.webpackJsonp||[]).push([["index~21833f8f"],{"16c5":function(t,e,i){"use strict";i("32e6")},"32e6":function(t,e,i){},"6e78":function(t,e,i){"use strict";i.r(e);var s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-image",{staticClass:"background-image-index",staticStyle:{animation:"header-effect 2s"},attrs:{lazy:"",src:t.$common.isEmpty(t.$store.state.webInfo.backgroundImage)?t.$store.state.webInfo.randomCover[Math.floor(Math.random()*t.$store.state.webInfo.randomCover.length)]:t.$store.state.webInfo.backgroundImage,fit:"cover"}},[i("div",{staticClass:"image-slot background-image-index-error",attrs:{slot:"error"},slot:"error"})])}],n=i("53ca"),r=i("1da1"),a=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("99af"),i("d81d"),i("2ca0"),i("8a79"),i("caad"),i("2532"),i("b354")),o={components:{printer:function(){return i.e("chunk-2d0e1459").then(i.bind(null,"7a70"))},articleList:function(){return i.e("chunk-fdf34c50").then(i.bind(null,"b263"))},sortArticle:function(){return i.e("chunk-4f9d90b4").then(i.bind(null,"5321"))},myFooter:function(){return i.e("chunk-d55226c4").then(i.bind(null,"68e4"))},myAside:function(){return i.e("chunk-c73c1818").then(i.bind(null,"97b4"))},mobileNav:function(){return i.e("chunk-47d73dea").then(i.bind(null,"7573"))}},mixins:[a.a],data:function(){return{pushDialogVisible:!1,push:{},showAside:!0,indexType:1,printerInfo:"你看对面的青山多漂亮",pagination:{current:1,size:10,total:0,searchKey:"",sortId:null,articleSearch:""},guShi:{content:"",origin:"",author:"",category:""},articles:[],sortArticles:{}}},watch:{},created:function(){this.getGuShi(),this.getSortArticles()},computed:{sortInfo:function(){return this.$store.state.sortInfo}},mounted:function(){var t=this;setTimeout(function(){t.push=t.$common.pushNotification(t.$store.state.webInfo.notices,!1),t.$common.isEmpty(t.push)||"0"!==localStorage.getItem("showPushNotification_"+t.push["链接"])&&(t.pushDialogVisible=!0,localStorage.setItem("showPushNotification_"+t.push["链接"],"0"))},2e3),this.isMobileDevice&&this.$el&&this.initTouchGestures()},methods:{selectSort:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.pagination={current:1,size:10,total:0,searchKey:"",sortId:t.id,articleSearch:""},e.articles=[],i.next=4,e.getArticles();case 4:e.$nextTick(function(){e.indexType=2,$(".announcement").css("max-width","780px"),document.querySelector(".recent-posts").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})});case 5:case"end":return i.stop()}},i)}))()},selectArticle:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.pagination={current:1,size:10,total:0,searchKey:"",sortId:null,articleSearch:t},e.articles=[],i.next=4,e.getArticles();case 4:e.$nextTick(function(){e.indexType=2,$(".announcement").css("max-width","780px"),document.querySelector(".recent-posts").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})});case 5:case"end":return i.stop()}},i)}))()},pageArticles:function(){this.pagination.current=this.pagination.current+1,this.getArticles()},getArticles:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(t.$constant.baseURL+"/article/listArticle",t.pagination).then(function(e){t.$common.isEmpty(e.data)||(t.articles=t.articles.concat(e.data.records),t.pagination.total=e.data.total)}).catch(function(e){t.$message({message:e.message,type:"error"})});case 2:case"end":return e.stop()}},e)}))()},getSortArticles:function(){var t=this;this.$http.get(this.$constant.baseURL+"/article/listSortArticle").then(function(e){if(!t.$common.isEmpty(e.data)){var i=t.processArticleCoverPaths(e.data);t.sortArticles=i}}).catch(function(e){t.$message({message:e.message,type:"error"})})},processArticleCoverPaths:function(t){var e=this.$store.state.sysConfig["local.downloadUrl"]||this.$store.state.sysConfig.webStaticResourcePrefix;if(t&&"object"===Object(n.a)(t))for(var i in t)t[i]&&Array.isArray(t[i])&&(t[i]=t[i].map(function(t){if(t.articleCover&&"string"==typeof t.articleCover&&!t.articleCover.startsWith("http://")&&!t.articleCover.startsWith("https://")&&e){var i=e.endsWith("/"),s=e.includes("/resourceStorage")||e.includes("resourceStorage/");t.articleCover.startsWith("resourceStorage/")?t.articleCover=e+t.articleCover:(t.articleCover.startsWith("articleCover/"),t.articleCover=s?e+t.articleCover:e+(i?"":"/")+"resourceStorage/"+t.articleCover)}return t}));return t},navigation:function(t){var e=document.querySelector(t);window.scrollTo({top:e.offsetTop,behavior:"smooth"})},pushUrl:function(t){window.open(t)},getGuShi:function(){var t=this,e=new XMLHttpRequest;e.open("get",this.$constant.jinrishici),e.onreadystatechange=function(){4===e.readyState&&(t.guShi=JSON.parse(e.responseText),t.printerInfo=t.guShi.content)},e.send()},initTouchGestures:function(){var t=this;this.touchHandler&&this.touchHandler.destroy();var e=this.$el.querySelector(".recent-posts");e&&(this.touchHandler=new a.b(e),this.touchHandler.on("swipeDown",function(e,i){0===window.scrollY&&i>100&&(t.$message({message:"刷新中...",type:"info"}),setTimeout(function(){location.reload()},300))}),this.touchHandler.on("swipeUp",function(e,i){if(2===t.indexType&&i>80){var s=document.documentElement.scrollHeight;window.scrollY+window.innerHeight>=s-100&&t.pagination.total!==t.articles.length&&t.pageArticles()}}))},handleThemeChange:function(t){localStorage.setItem("theme",t),this.$message({message:"已切换到".concat("dark"===t?"深色":"浅色","模式"),type:"success"})}},beforeDestroy:function(){this.touchHandler&&this.touchHandler.destroy()}},c=o,l=(i("16c5"),i("2877")),h=Object(l.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isMobileDevice?i("mobileNav",{attrs:{"web-title":t.$store.state.webInfo.webTitle||"诗境"},on:{"theme-change":t.handleThemeChange}}):t._e(),t._m(0),i("div",{staticClass:"signature-wall myCenter my-animation-hideToShow"},[i("h1",{staticClass:"playful"},t._l(t.$store.state.webInfo.webTitle,function(e,s){return i("span",{key:s},[t._v(t._s(e))])}),0),i("div",{staticClass:"printer",on:{click:function(e){return t.getGuShi()}}},[i("printer",{attrs:{printerInfo:t.printerInfo},scopedSlots:t._u([{key:"paper",fn:function(e){return[i("h3",[t._v(" "+t._s(e.content)),i("span",{staticClass:"cursor"},[t._v("|")])])]}}])})],1),i("div",{attrs:{id:"bannerWave1"}}),i("div",{attrs:{id:"bannerWave2"}}),i("i",{staticClass:"el-icon-arrow-down",on:{click:function(e){return t.navigation(".page-container-wrap")}}})]),i("div",{staticClass:"page-container-wrap"},[i("div",{staticClass:"page-container"},[t.showAside?i("div",{staticClass:"aside-content"},[i("myAside",{on:{selectSort:t.selectSort,selectArticle:t.selectArticle}})],1):t._e(),i("div",{staticClass:"recent-posts"},[i("div",{staticClass:"announcement background-opacity"},[i("i",{staticClass:"fa fa-volume-up",attrs:{"aria-hidden":"true"}}),i("div",t._l(t.$common.pushNotification(t.$store.state.webInfo.notices,!0),function(e,s){return i("div",{key:s},[t._v(" "+t._s(e)+" ")])}),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.indexType,expression:"indexType === 1"}]},t._l(t.sortInfo,function(e,s){return i("div",{key:s},[t.$common.isEmpty(t.sortArticles[e.id])?t._e():i("div",[i("div",{staticClass:"sort-article-first"},[i("div",[i("svg",{staticStyle:{"vertical-align":"-2px","margin-bottom":"-2px"},attrs:{viewBox:"0 0 1024 1024",width:"20",height:"20"}},[i("path",{attrs:{d:"M367.36 482.304H195.9936c-63.3344 0-114.6368-51.3536-114.6368-114.6368V196.2496c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368V367.616c0 63.3344-51.3536 114.688-114.688 114.688zM367.36 938.752H195.9936c-63.3344 0-114.6368-51.3536-114.6368-114.6368v-171.4176c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368v171.4176c0 63.3344-51.3536 114.6368-114.688 114.6368zM828.672 938.752h-171.4176c-63.3344 0-114.6368-51.3536-114.6368-114.6368v-171.4176c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368v171.4176c0 63.3344-51.3024 114.6368-114.6368 114.6368zM828.672 482.304h-171.4176c-63.3344 0-114.6368-51.3536-114.6368-114.6368V196.2496c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368V367.616c0 63.3344-51.3024 114.688-114.6368 114.688z",fill:"#FF623E"}})]),t._v(" "+t._s(e.sortName)+" ")]),i("div",{staticClass:"article-more",on:{click:function(i){return t.$router.push({path:"/sort",query:{sortId:e.id}})}}},[i("svg",{staticStyle:{"vertical-align":"-2px","margin-bottom":"-2px"},attrs:{viewBox:"0 0 1024 1024",width:"20",height:"20"}},[i("path",{attrs:{d:"M347.3 897.3H142.2c-30.8 0-51.4-31.7-38.9-59.9l136.1-306.1c4.9-11 4.9-23.6 0-34.6L103.3 190.6c-12.5-28.2 8.1-59.9 38.9-59.9h205.1c16.8 0 32.1 9.9 38.9 25.3l151.4 340.7c4.9 11 4.9 23.6 0 34.6L386.3 872.1c-6.9 15.3-22.1 25.2-39 25.2z",fill:"#009F72"}}),i("path",{attrs:{d:"M730.4 897.3H525.3c-30.8 0-51.4-31.7-38.9-59.9l136.1-306.1c4.9-11 4.9-23.6 0-34.6L486.4 190.6c-12.5-28.2 8.1-59.9 38.9-59.9h205.1c16.8 0 32.1 9.9 38.9 25.3l151.4 340.7c4.9 11 4.9 23.6 0 34.6L769.3 872.1c-6.8 15.3-22.1 25.2-38.9 25.2z",fill:"#F9DB88"}})]),t._v(" MORE ")])]),i("sortArticle",{attrs:{articleList:t.sortArticles[e.id]}})],1)])}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.indexType,expression:"indexType === 2"}]},[i("articleList",{attrs:{articleList:t.articles}}),i("div",{staticClass:"pagination-wrap"},[t.pagination.total!==t.articles.length?i("div",{staticClass:"pagination",on:{click:function(e){return t.pageArticles()}}},[t._v(" 下一页 ")]):i("div",{staticStyle:{"user-select":"none"}},[t._v(" ~~到底啦~~ ")])])],1)])])]),i("div",{staticStyle:{background:"var(--background)"}},[i("myFooter")],1),i("el-dialog",{staticClass:"index-push",attrs:{title:"每日推荐",visible:t.pushDialogVisible,width:"60%","append-to-body":!0,"close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.pushDialogVisible=e}}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column"}},[i("div",{staticClass:"push-title"},[t._v(" "+t._s(t.push["标题"])+" ")]),i("el-image",{staticClass:"push-el-image",attrs:{lazy:"",src:t.push["封面"],fit:"cover"}}),i("div",{staticClass:"push-button",on:{click:function(e){return t.pushUrl(t.push["链接"])}}},[i("span",{staticClass:"push-button-title"},[t._v("立即前往")]),i("span",{staticClass:"push-button-car"},[i("svg",{attrs:{viewBox:"0 0 1024 1024",width:"40",height:"40"}},[i("path",{attrs:{d:"M399.502 655.103c0 7.902-6.665 14.311-14.88 14.311H72.188c-8.215 0-14.875-6.407-14.875-14.311v-28.634c0-7.913 6.66-14.315 14.875-14.315h312.435c8.217 0 14.88 6.402 14.88 14.315l-0.001 28.634zM968.167 655.103c0 7.902-6.664 14.311-14.882 14.311H640.851c-8.216 0-14.877-6.407-14.877-14.311v-28.634c0-7.913 6.661-14.315 14.877-14.315h312.436c8.218 0 14.882 6.402 14.882 14.315l-0.002 28.634z",fill:"#EA0606"}}),i("path",{attrs:{d:"M968.097 624.008c0 11.563-17.723 20.937-39.583 20.937H97.263c-21.858 0-39.579-9.372-39.579-20.937v-41.876c0-11.562 17.72-20.935 39.579-20.935h831.25c21.86 0 39.583 9.373 39.583 20.935v41.876zM855.003 526.553h-12c0-161.793-151.025-293.421-336.66-293.421-185.633 0-336.656 131.628-336.656 293.421h-12c0-41.334 9.261-81.425 27.527-119.161 17.612-36.384 42.807-69.046 74.886-97.079 65.813-57.509 153.264-89.181 246.243-89.181 92.981 0 180.434 31.672 246.247 89.181 32.079 28.032 57.274 60.693 74.887 97.079 18.264 37.734 27.526 77.826 27.526 119.161z",fill:"#EA0606"}}),i("path",{attrs:{d:"M1001.996 588.091c-121.146 13.91-980.875 0-980.875 0s-30.62-203.887 241.944-144.555c171.281-1.178 273.436 0 489.644 0 193.07-59.332 283.186 108.642 249.287 144.555z",fill:"#EA0606"}}),i("path",{attrs:{d:"M500.343 214.379h12v330.342h-12z",fill:"#EA0606"}}),i("path",{attrs:{d:"M333.217 657.192c0 46.174-38.961 83.602-87.029 83.602-48.056 0-87.021-37.428-87.021-83.602 0-46.172 38.963-83.588 87.021-83.588 48.067 0 87.029 37.417 87.029 83.588z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M246.188 743.794c-49.638 0-90.021-38.85-90.021-86.602 0-47.745 40.383-86.588 90.021-86.588 49.642 0 90.029 38.843 90.029 86.588 0 47.752-40.387 86.602-90.029 86.602z m0-167.19c-46.329 0-84.021 36.151-84.021 80.588 0 44.444 37.692 80.602 84.021 80.602 46.333 0 84.029-36.157 84.029-80.602 0-44.436-37.696-80.588-84.029-80.588z",fill:"#440A0A"}}),i("path",{attrs:{d:"M309.872 656.757c0 33.159-27.986 60.035-62.491 60.035-34.51 0-62.487-26.876-62.487-60.035 0-33.16 27.977-60.022 62.487-60.022 34.505 0.001 62.491 26.862 62.491 60.022z",fill:"#440A0A"}}),i("path",{attrs:{d:"M271.322 657.558c0 11.747-9.918 21.282-22.151 21.282-12.237 0-22.152-9.535-22.152-21.282 0-11.758 9.916-21.277 22.152-21.277 12.233-0.002 22.151 9.519 22.151 21.277z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M875.521 642.811c0 46.175-38.963 83.603-87.027 83.603-48.061 0-87.021-37.428-87.021-83.603 0-46.173 38.962-83.587 87.021-83.587 48.066 0 87.027 37.414 87.027 83.587z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M788.494 729.413c-49.638 0-90.021-38.85-90.021-86.603 0-47.744 40.384-86.587 90.021-86.587 49.642 0 90.027 38.843 90.027 86.587 0 47.753-40.385 86.603-90.027 86.603z m0-167.189c-46.33 0-84.021 36.151-84.021 80.587 0 44.444 37.691 80.603 84.021 80.603 46.333 0 84.027-36.158 84.027-80.603 0-44.436-37.694-80.587-84.027-80.587z",fill:"#440A0A"}}),i("path",{attrs:{d:"M852.174 642.374c0 33.159-27.979 60.037-62.486 60.037-34.512 0-62.487-26.878-62.487-60.037 0-33.161 27.977-60.023 62.487-60.023 34.506-0.001 62.486 26.862 62.486 60.023z",fill:"#440A0A"}}),i("path",{attrs:{d:"M813.628 643.173c0 11.75-9.919 21.278-22.153 21.278-12.233 0-22.151-9.528-22.151-21.278 0-11.759 9.919-21.275 22.151-21.275 12.235-0.002 22.153 9.516 22.153 21.275z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M518.135 469.838h56.847v12.556h-56.847z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M522.818 468.694c0 7.902-0.648 14.309-1.445 14.309h-30.37c-0.799 0-1.446-6.406-1.446-14.309V440.06c0-7.912 0.647-14.315 1.446-14.315h30.37c0.797 0 1.445 6.403 1.445 14.315v28.634z",fill:"#EA0606"}})])])])],1)])],1)},s,!1,null,"61068eb8",null);e.default=h.exports},b354:function(t,e,i){"use strict";i.d(e,"c",function(){return h}),i.d(e,"b",function(){return d}),i.d(e,"a",function(){return p});var s=i("d4ec"),n=i("bee2"),r=(i("a434"),i("d3b7"),i("159b"),{MOBILE:"mobile",TABLET:"tablet",DESKTOP:"desktop"}),a=768,o=1024;function c(){var t=window.innerWidth;return t<=a?r.MOBILE:t<=o?r.TABLET:r.DESKTOP}function l(){return window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"}function h(){return"landscape"===l()}var u=function(){function t(){var e=this;Object(s.a)(this,t),this.listeners=[],this.currentDeviceType=c(),this.currentOrientation=l(),this.resizeHandler=this.debounce(function(){var t=c(),i=l();t===e.currentDeviceType&&i===e.currentOrientation||(e.currentDeviceType=t,e.currentOrientation=i,e.notify())},200),window.addEventListener("resize",this.resizeHandler),window.addEventListener("orientationchange",this.resizeHandler)}return Object(n.a)(t,[{key:"addListener",value:function(t){this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)}},{key:"notify",value:function(){var t=this;this.listeners.forEach(function(e){e({deviceType:t.currentDeviceType,orientation:t.currentOrientation,width:window.innerWidth,height:window.innerHeight})})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resizeHandler),window.removeEventListener("orientationchange",this.resizeHandler),this.listeners=[]}},{key:"debounce",value:function(t,e){var i;return function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];clearTimeout(i),i=setTimeout(function(){clearTimeout(i),t.apply(void 0,n)},e)}}}]),t}(),d=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,t),this.element=e,this.options={swipeThreshold:i.swipeThreshold||50,swipeTimeout:i.swipeTimeout||300,longPressTimeout:i.longPressTimeout||500,doubleTapTimeout:i.doubleTapTimeout||300},this.startX=0,this.startY=0,this.startTime=0,this.lastTapTime=0,this.longPressTimer=null,this.callbacks={swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,longPress:null,doubleTap:null,tap:null},this.bindEvents()}return Object(n.a)(t,[{key:"bindEvents",value:function(){this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),this.element.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),this.element.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!1})}},{key:"handleTouchStart",value:function(t){var e=this,i=t.touches[0];this.startX=i.clientX,this.startY=i.clientY,this.startTime=Date.now(),this.callbacks.longPress&&(this.longPressTimer=setTimeout(function(){e.callbacks.longPress&&e.callbacks.longPress(t)},this.options.longPressTimeout))}},{key:"handleTouchMove",value:function(t){this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null)}},{key:"handleTouchEnd",value:function(t){this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null);var e=t.changedTouches[0],i=e.clientX,s=e.clientY,n=Date.now(),r=i-this.startX,a=s-this.startY,o=n-this.startTime;if(o<this.options.doubleTapTimeout){var c=n-this.lastTapTime;if(c<this.options.doubleTapTimeout&&c>0)return this.callbacks.doubleTap&&this.callbacks.doubleTap(t),void(this.lastTapTime=0);this.lastTapTime=n}if(o<this.options.swipeTimeout){var l=Math.abs(r),h=Math.abs(a);if(l>this.options.swipeThreshold||h>this.options.swipeThreshold)return void(l>h?r>0?this.callbacks.swipeRight&&this.callbacks.swipeRight(t,r):this.callbacks.swipeLeft&&this.callbacks.swipeLeft(t,Math.abs(r)):a>0?this.callbacks.swipeDown&&this.callbacks.swipeDown(t,a):this.callbacks.swipeUp&&this.callbacks.swipeUp(t,Math.abs(a)))}Math.abs(r)<10&&Math.abs(a)<10&&this.callbacks.tap&&this.callbacks.tap(t)}},{key:"on",value:function(t,e){return this.callbacks.hasOwnProperty(t)&&(this.callbacks[t]=e),this}},{key:"destroy",value:function(){this.element.removeEventListener("touchstart",this.handleTouchStart),this.element.removeEventListener("touchmove",this.handleTouchMove),this.element.removeEventListener("touchend",this.handleTouchEnd),this.longPressTimer&&clearTimeout(this.longPressTimer)}}]),t}(),p={data:function(){return{deviceType:c(),isMobileDevice:c()===r.MOBILE,isTabletDevice:c()===r.TABLET,isDesktopDevice:c()===r.DESKTOP,isTouchSupported:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,isLandscapeMode:h()}},created:function(){this.responsiveListener=new u,this.responsiveListener.addListener(this.handleResponsiveChange)},beforeDestroy:function(){this.responsiveListener&&this.responsiveListener.destroy()},methods:{handleResponsiveChange:function(t){this.deviceType=t.deviceType,this.isMobileDevice=t.deviceType===r.MOBILE,this.isTabletDevice=t.deviceType===r.TABLET,this.isDesktopDevice=t.deviceType===r.DESKTOP,this.isLandscapeMode="landscape"===t.orientation}}};new u}}]);