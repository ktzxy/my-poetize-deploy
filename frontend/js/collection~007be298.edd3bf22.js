(window.webpackJsonp=window.webpackJsonp||[]).push([["collection~007be298"],{3956:function(t,e,a){"use strict";a("75da")},"75da":function(t,e,a){},c47d:function(t,e,a){"use strict";a.r(e);var o=a("5530"),n=(a("99af"),a("a4d3"),a("e01a"),a("7db0"),a("d3b7"),a("d81d"),a("e9c4"),a("159b"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("4d90"),{name:"articleCollection",data:function(){return{collections:[],categories:[],currentPage:1,pageSize:10,total:0,currentCategory:"all",keyword:"",sortType:"time",selectedCollections:[],showCategoryDialog:!1,showRemarkDialog:!1,showMoveDialog:!1,showShareDialog:!1,showSyncDialog:!1,lastSyncTime:"æœªåŒæ­¥",syncing:!1,editingCategory:null,categoryForm:{categoryName:"",description:""},remarkForm:{collectionId:null,remark:""},moveForm:{collectionId:null,category:""},searchTimer:null,currentUser:this.$store.state.currentUser}},computed:{shareUrl:function(){var t=this.$store.state.sysConfig["website.url"]||window.location.origin;return"".concat(t,"/user?userId=").concat(this.currentUser.id,"#collections")}},watch:{showShareDialog:function(t){var e=this;t&&this.$nextTick(function(){e.generateQRCode()})}},created:function(){this.loadCategories(),this.loadCollections(),this.loadLastSyncTime()},methods:{loadCategories:function(){var t=this;this.$http.get(this.$constant.baseURL+"/article/getUserCategories").then(function(e){e&&e.data&&(t.categories=[],t.$nextTick(function(){t.categories=e.data,t.$forceUpdate()}))}).catch(function(t){})},refreshCategories:function(){var t=this;this.clearRelatedCache(),this.$http.get(this.$constant.baseURL+"/article/getUserCategories").then(function(e){if(e&&e.data){var a=e.data;t.categories=a,t.$forceUpdate()}}).catch(function(e){t.$message({message:"åˆ·æ–°åˆ†ç±»å¤±è´¥: "+e.message,type:"error"})})},loadCollections:function(){var t=this;this.$http.get(this.$constant.baseURL+"/article/getUserCollectionsEnhanced",{current:this.currentPage,size:this.pageSize,category:"all"===this.currentCategory?null:this.currentCategory,keyword:this.keyword,sortType:this.sortType}).then(function(e){e&&e.data&&(t.collections=[],t.total=0,t.$nextTick(function(){t.collections=e.data.records||[],t.total=e.data.total||0}))}).catch(function(e){t.$message({message:"åŠ è½½æ”¶è—åˆ—è¡¨å¤±è´¥: "+e.message,type:"error"})})},changeCategory:function(t){this.currentCategory=t,this.currentPage=1,this.selectedCollections=[],this.loadCollections()},handleSearch:function(){var t=this;this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout(function(){t.currentPage=1,t.loadCollections()},500)},handleSelectionChange:function(){},handlePageChange:function(t){this.currentPage=t,this.selectedCollections=[],this.loadCollections()},goToArticle:function(t){this.$router.push({path:"/article/"+t})},editRemark:function(t){this.remarkForm.collectionId=t.id,this.remarkForm.remark=t.remark||"",this.showRemarkDialog=!0},saveRemark:function(){var t=this;this.$http.post(this.$constant.baseURL+"/article/updateCollection?collectionId=".concat(this.remarkForm.collectionId,"&remark=").concat(encodeURIComponent(this.remarkForm.remark))).then(function(e){t.$message({message:"å¤‡æ³¨æ›´æ–°æˆåŠŸ",type:"success"}),t.showRemarkDialog=!1,t.$nextTick(function(){t.loadCollections()})}).catch(function(e){t.$message({message:"å¤‡æ³¨æ›´æ–°å¤±è´¥: "+e.message,type:"error"})})},moveToCategory:function(t){this.moveForm.collectionId=t.id,this.moveForm.category=t.category,this.showMoveDialog=!0},saveMove:function(){var t=this;this.$http.post(this.$constant.baseURL+"/article/updateCollection?collectionId=".concat(this.moveForm.collectionId,"&category=").concat(encodeURIComponent(this.moveForm.category))).then(function(e){t.$message({message:"åˆ†ç±»æ›´æ–°æˆåŠŸ",type:"success"}),t.showMoveDialog=!1,t.refreshCategories(),setTimeout(function(){t.loadCollections()},500)}).catch(function(e){t.$message({message:"åˆ†ç±»æ›´æ–°å¤±è´¥: "+e.message,type:"error"})})},deleteCollection:function(t){var e=this;this.$confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ”¶è—å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){e.batchDeleteCollections([t])}).catch(function(){})},batchDelete:function(){var t=this;this.$confirm("ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ".concat(this.selectedCollections.length," ä¸ªæ”¶è—å—ï¼Ÿ"),"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){t.batchDeleteCollections(t.selectedCollections)}).catch(function(){})},batchDeleteCollections:function(t){var e=this;this.$http.post(this.$constant.baseURL+"/article/batchDeleteCollections",t).then(function(t){e.$message({message:"åˆ é™¤æˆåŠŸ",type:"success"}),e.selectedCollections=[],e.categories=[],e.collections=[],e.refreshCategories(),setTimeout(function(){e.loadCollections()},500)}).catch(function(t){e.$message({message:"åˆ é™¤å¤±è´¥: "+t.message,type:"error"})})},handleCategoryCommand:function(t){"edit"===t.action?(this.editingCategory=t.category,this.categoryForm.categoryName=t.category.categoryName,this.categoryForm.description=t.category.description,this.showCategoryDialog=!0):"delete"===t.action&&this.deleteCategory(t.category.id)},saveCategory:function(){var t=this;if(this.categoryForm.categoryName){var e=this.editingCategory?this.$constant.baseURL+"/article/updateCategory":this.$constant.baseURL+"/article/saveCategory",a=Object(o.a)({},this.categoryForm);this.editingCategory&&(a.id=this.editingCategory.id),this.$http.post(e,a).then(function(e){t.$message({message:t.editingCategory?"åˆ†ç±»æ›´æ–°æˆåŠŸ":"åˆ†ç±»åˆ›å»ºæˆåŠŸ",type:"success"}),t.showCategoryDialog=!1,t.editingCategory=null,t.categoryForm={categoryName:"",description:""},t.categories=[],t.collections=[],t.total=0,t.currentPage=1,t.refreshCategories(),setTimeout(function(){t.loadCollections()},500)}).catch(function(e){t.$message({message:"æ“ä½œå¤±è´¥: "+e.message,type:"error"})})}else this.$message({message:"è¯·è¾“å…¥åˆ†ç±»åç§°",type:"warning"})},deleteCategory:function(t){var e=this;this.$confirm("åˆ é™¤åˆ†ç±»åï¼Œè¯¥åˆ†ç±»ä¸‹çš„æ”¶è—å°†ç§»è‡³é»˜è®¤åˆ†ç±»ï¼Œç¡®å®šåˆ é™¤å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){var a=e.categories.find(function(e){return e.id===t}),o=a?a.categoryName:null;e.$http.post(e.$constant.baseURL+"/article/deleteCategory?categoryId=".concat(t)).then(function(t){e.$message({message:"åˆ†ç±»åˆ é™¤æˆåŠŸ",type:"success"}),o&&e.currentCategory===o&&(e.currentCategory="all"),e.categories=[],e.collections=[],e.total=0,e.currentPage=1,e.refreshCategories(),setTimeout(function(){e.loadCollections()},500)}).catch(function(t){e.$message({message:"åˆ é™¤å¤±è´¥: "+t.message,type:"error"})})}).catch(function(){})},formatDate:function(t){return t?new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""},clearRelatedCache:function(){this.$apiCache&&(this.$apiCache.clearByPattern("/article/getUserCategories"),this.$apiCache.clearByPattern("/article/getUserCollectionsEnhanced"))},handleExportCommand:function(t){0!==this.collections.length?this.loadAllCollectionsForExport(t):this.$message({message:"æš‚æ— æ”¶è—æ•°æ®å¯å¯¼å‡º",type:"warning"})},loadAllCollectionsForExport:function(t){var e=this,a=this.$loading({lock:!0,text:"æ­£åœ¨å‡†å¤‡å¯¼å‡ºæ•°æ®...",background:"rgba(0, 0, 0, 0.7)"}),o={current:1,size:9999,category:"all"===this.currentCategory?null:this.currentCategory,keyword:this.keyword||null,sortType:this.sortType};this.$http.get(this.$constant.baseURL+"/article/getUserCollectionsEnhanced",o).then(function(o){var n=o.data.records||[];if(0===n.length)return e.$message({message:"æš‚æ— æ•°æ®å¯å¯¼å‡º",type:"warning"}),void a.close();switch(t){case"json":e.exportAsJSON(n);break;case"html":e.exportAsHTML(n);break;case"markdown":e.exportAsMarkdown(n)}a.close()}).catch(function(t){a.close(),e.$message({message:"åŠ è½½æ•°æ®å¤±è´¥: "+t.message,type:"error"})})},exportAsJSON:function(t){var e=window.location.origin,a={exportTime:(new Date).toISOString(),category:this.currentCategory,total:t.length,collections:t.map(function(t){return{id:t.id,articleId:t.article.id,articleTitle:t.article.articleTitle,articleUrl:"".concat(e,"/article/").concat(t.article.id),articleCover:t.article.articleCover,articleContent:t.article.articleContent,viewCount:t.article.viewCount,likeCount:t.article.likeCount,commentCount:t.article.commentCount,category:t.category,remark:t.remark,collectTime:t.createTime}})},o=new Blob([JSON.stringify(a,null,2)],{type:"application/json"});this.downloadFile(o,"æˆ‘çš„æ”¶è—_".concat(this.currentCategory,"_").concat(this.formatDateForFilename(),".json")),this.$message({message:"JSONå¯¼å‡ºæˆåŠŸï¼",type:"success"})},exportAsHTML:function(t){var e=this,a=window.location.origin,o='\n<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>æˆ‘çš„æ”¶è— - '.concat(this.currentCategory,"</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: #f5f5f5; padding: 20px; }\n    .container { max-width: 1200px; margin: 0 auto; background: white; padding: 40px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.1); }\n    h1 { color: #333; margin-bottom: 10px; }\n    .meta { color: #666; margin-bottom: 30px; font-size: 14px; }\n    .article { border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; margin-bottom: 20px; transition: all 0.3s; }\n    .article:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }\n    .article-title { font-size: 20px; font-weight: 600; color: #1a1a1a; margin-bottom: 10px; }\n    .article-title a { color: #409eff; text-decoration: none; }\n    .article-title a:hover { text-decoration: underline; }\n    .article-url { color: #909399; font-size: 13px; margin: 5px 0; word-break: break-all; }\n    .article-remark { background: #f0f7ff; padding: 10px; border-left: 3px solid #409eff; margin: 10px 0; color: #606266; }\n    .article-meta { display: flex; gap: 20px; color: #909399; font-size: 14px; margin-top: 10px; }\n    .article-footer { display: flex; justify-content: space-between; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee; }\n    .category-tag { background: #ecf5ff; color: #409eff; padding: 4px 12px; border-radius: 4px; font-size: 13px; }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>ğŸ“š æˆ‘çš„æ”¶è— - ").concat(this.currentCategory,'</h1>\n    <div class="meta">\n      <p>å¯¼å‡ºæ—¶é—´ï¼š').concat((new Date).toLocaleString("zh-CN"),"</p>\n      <p>æ€»è®¡ï¼š").concat(t.length," ç¯‡æ–‡ç« </p>\n    </div>\n");t.forEach(function(t,n){var i="".concat(a,"/article/").concat(t.article.id);o+='\n    <div class="article">\n      <div class="article-title"><a href="'.concat(i,'" target="_blank">').concat(n+1,". ").concat(t.article.articleTitle,'</a></div>\n      <div class="article-url">ğŸ”— ').concat(i,"</div>\n      ").concat(t.remark?'<div class="article-remark">ğŸ“ å¤‡æ³¨ï¼š'.concat(t.remark,"</div>"):"",'\n      <div class="article-meta">\n        <span>ğŸ‘ ').concat(t.article.viewCount," æµè§ˆ</span>\n        <span>â­ ").concat(t.article.likeCount," ç‚¹èµ</span>\n        <span>ğŸ’¬ ").concat(t.article.commentCount,' è¯„è®º</span>\n      </div>\n      <div class="article-footer">\n        <span>æ”¶è—æ—¶é—´ï¼š').concat(e.formatDate(t.createTime),'</span>\n        <span class="category-tag">').concat(t.category,"</span>\n      </div>\n    </div>\n")}),o+="\n  </div>\n</body>\n</html>\n";var n=new Blob([o],{type:"text/html"});this.downloadFile(n,"æˆ‘çš„æ”¶è—_".concat(this.currentCategory,"_").concat(this.formatDateForFilename(),".html")),this.$message({message:"HTMLå¯¼å‡ºæˆåŠŸï¼",type:"success"})},exportAsMarkdown:function(t){var e=this,a=window.location.origin,o="# ğŸ“š æˆ‘çš„æ”¶è— - ".concat(this.currentCategory,"\n\n");o+="> å¯¼å‡ºæ—¶é—´ï¼š".concat((new Date).toLocaleString("zh-CN"),"\n"),o+="> æ€»è®¡ï¼š".concat(t.length," ç¯‡æ–‡ç« \n\n"),o+="---\n\n",t.forEach(function(t,n){var i="".concat(a,"/article/").concat(t.article.id);o+="## ".concat(n+1,". [").concat(t.article.articleTitle,"](").concat(i,")\n\n"),o+="**ğŸ”— æ–‡ç« é“¾æ¥ï¼š** ".concat(i,"\n\n"),t.remark&&(o+="> ğŸ“ **å¤‡æ³¨**ï¼š".concat(t.remark,"\n\n")),o+="**æ–‡ç« ç»Ÿè®¡ï¼š**\n\n",o+="- ğŸ‘ æµè§ˆé‡ï¼š".concat(t.article.viewCount,"\n"),o+="- â­ ç‚¹èµæ•°ï¼š".concat(t.article.likeCount,"\n"),o+="- ğŸ’¬ è¯„è®ºæ•°ï¼š".concat(t.article.commentCount,"\n"),o+="- ğŸ“‚ åˆ†ç±»ï¼š".concat(t.category,"\n"),o+="- ğŸ“… æ”¶è—æ—¶é—´ï¼š".concat(e.formatDate(t.createTime),"\n"),o+="\n---\n\n"});var n=new Blob([o],{type:"text/markdown"});this.downloadFile(n,"æˆ‘çš„æ”¶è—_".concat(this.currentCategory,"_").concat(this.formatDateForFilename(),".md")),this.$message({message:"Markdownå¯¼å‡ºæˆåŠŸï¼",type:"success"})},downloadFile:function(t,e){var a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},formatDateForFilename:function(){var t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return"".concat(e).concat(a).concat(o,"_").concat(n).concat(i)},copyShareLink:function(){var t=this;navigator.clipboard.writeText(this.shareUrl).then(function(){t.$message.success("åˆ†äº«é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼")}).catch(function(){t.$message.error("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶")})},generateQRCode:function(){var t=this,e=this.$refs.qrcodeCanvas;e&&(e.innerHTML="",a.e("chunk-2d21d0c2").then(a.t.bind(null,"d044",7)).then(function(a){new a.default(e,{text:t.shareUrl,width:100,height:100,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.default.CorrectLevel.H})}).catch(function(t){}))},downloadShareCard:function(){var t=this;a.e("chunk-2d216257").then(a.t.bind(null,"c0e9",7)).then(function(e){var a=t.$refs.shareCard;e.default(a,{backgroundColor:"#ffffff",scale:2,useCORS:!0}).then(function(e){e.toBlob(function(e){var a=URL.createObjectURL(e),o=document.createElement("a");o.href=a,o.download="æˆ‘çš„æ”¶è—_".concat(t.formatDateForFilename(),".png"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a),t.$message.success("åˆ†äº«å¡ç‰‡ä¸‹è½½æˆåŠŸï¼")})})}).catch(function(e){t.$message.error("ç”Ÿæˆåˆ†äº«å¡ç‰‡å¤±è´¥")})},loadLastSyncTime:function(){var t=this;this.$http.get(this.$constant.baseURL+"/article/getLastSyncTime").then(function(e){e&&e.data&&(t.lastSyncTime=t.formatSyncTime(e.data))}).catch(function(){})},syncToCloud:function(){var t=this;this.$confirm("ç¡®å®šè¦å°†æœ¬åœ°æ”¶è—æ•°æ®ä¸Šä¼ åˆ°äº‘ç«¯å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){t.syncing=!0;var e={collections:t.collections,categories:t.categories,syncTime:(new Date).toISOString()};t.$http.post(t.$constant.baseURL+"/article/syncCollectionsToCloud",e).then(function(e){t.$message.success(e.data||"åŒæ­¥æˆåŠŸï¼"),t.loadLastSyncTime(),t.showSyncDialog=!1}).catch(function(e){t.$message.error(e.message||"åŒæ­¥å¤±è´¥")}).finally(function(){t.syncing=!1})}).catch(function(){})},syncFromCloud:function(){var t=this;this.$confirm("ä»äº‘ç«¯ä¸‹è½½æ•°æ®å°†ä¼šè¦†ç›–æœ¬åœ°æ•°æ®ï¼Œç¡®å®šç»§ç»­å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){t.syncing=!0,t.$http.get(t.$constant.baseURL+"/article/syncCollectionsFromCloud").then(function(e){e&&e.data&&(t.$message.success("ä»äº‘ç«¯ä¸‹è½½æˆåŠŸï¼"),t.loadLastSyncTime(),t.loadCategories(),t.loadCollections(),t.showSyncDialog=!1)}).catch(function(e){t.$message.error(e.message||"ä¸‹è½½å¤±è´¥")}).finally(function(){t.syncing=!1})}).catch(function(){})},formatSyncTime:function(t){if(!t||"æœªåŒæ­¥"===t)return"æœªåŒæ­¥";try{return new Date(t).toLocaleString("zh-CN")}catch(e){return t}}}}),i=n,c=(a("3956"),a("2877")),s=Object(c.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collection-page"},[a("div",{staticClass:"page-header"},[a("h2",[t._v("æˆ‘çš„æ”¶è—")]),a("div",{staticClass:"header-actions"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-folder-add"},on:{click:function(e){t.showCategoryDialog=!0}}},[t._v(" æ–°å»ºåˆ†ç±» ")]),a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-share"},on:{click:function(e){t.showShareDialog=!0}}},[t._v(" åˆ†äº«æ”¶è— ")]),a("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-refresh"},on:{click:function(e){t.showSyncDialog=!0}}},[t._v(" åŒæ­¥æ”¶è— ")]),a("el-dropdown",{staticStyle:{"margin-left":"10px"},attrs:{trigger:"click"},on:{command:t.handleExportCommand}},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-download"}},[t._v(" å¯¼å‡ºæ”¶è— "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"json"}},[a("i",{staticClass:"el-icon-document"}),t._v(" å¯¼å‡ºJSON ")]),a("el-dropdown-item",{attrs:{command:"html"}},[a("i",{staticClass:"el-icon-tickets"}),t._v(" å¯¼å‡ºHTML ")]),a("el-dropdown-item",{attrs:{command:"markdown"}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" å¯¼å‡ºMarkdown ")])],1)],1),t.selectedCollections.length>0?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:t.batchDelete}},[t._v(" æ‰¹é‡åˆ é™¤("+t._s(t.selectedCollections.length)+") ")]):t._e()],1)]),t.categories.length>0?a("div",{staticClass:"category-tabs"},[a("div",{staticClass:"category-item",class:{active:"all"===t.currentCategory},on:{click:function(e){return t.changeCategory("all")}}},[a("i",{staticClass:"el-icon-folder"}),a("span",[t._v("å…¨éƒ¨ ("+t._s(t.total)+")")])]),t._l(t.categories,function(e){return a("div",{key:e.id,staticClass:"category-item",class:{active:t.currentCategory===e.categoryName},on:{click:function(a){return t.changeCategory(e.categoryName)}}},[a("i",{staticClass:"el-icon-folder-opened"}),a("span",[t._v(t._s(e.categoryName)+" ("+t._s(e.collectionCount)+")")]),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCategoryCommand}},[a("span",{staticClass:"category-more",on:{click:function(t){t.stopPropagation()}}},[a("i",{staticClass:"el-icon-more"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{action:"edit",category:e}}},[a("i",{staticClass:"el-icon-edit"}),t._v(" ç¼–è¾‘ ")]),"é»˜è®¤åˆ†ç±»"!==e.categoryName?a("el-dropdown-item",{attrs:{command:{action:"delete",category:e}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" åˆ é™¤ ")]):t._e()],1)],1)],1)})],2):t._e(),a("div",{staticClass:"filter-bar"},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å¤‡æ³¨...","prefix-icon":"el-icon-search",clearable:""},on:{input:t.handleSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("div",{staticClass:"sort-buttons"},[a("el-radio-group",{attrs:{size:"small"},on:{change:t.loadCollections},model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}},[a("el-radio-button",{attrs:{label:"time"}},[t._v("æœ€æ–°")]),a("el-radio-button",{attrs:{label:"oldest"}},[t._v("æœ€æ—©")])],1)],1)],1),t.collections&&t.collections.length>0?a("div",{staticClass:"collection-list"},t._l(t.collections,function(e){return a("div",{key:e.id,staticClass:"collection-item",class:{selected:t.selectedCollections.includes(e.id)}},[a("el-checkbox",{staticClass:"collection-checkbox",attrs:{label:e.id},on:{change:t.handleSelectionChange},model:{value:t.selectedCollections,callback:function(e){t.selectedCollections=e},expression:"selectedCollections"}}),a("div",{staticClass:"item-content",on:{click:function(a){return t.goToArticle(e.article.id)}}},[e.article.articleCover?a("div",{staticClass:"article-cover"},[a("img",{attrs:{src:e.article.articleCover,alt:e.article.articleTitle}})]):t._e(),a("div",{staticClass:"article-info"},[a("div",{staticClass:"article-title"},[t._v(t._s(e.article.articleTitle))]),e.remark?a("div",{staticClass:"article-remark"},[a("i",{staticClass:"el-icon-document"}),t._v(" "+t._s(e.remark)+" ")]):t._e(),a("div",{staticClass:"article-meta"},[a("span",[a("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(e.article.viewCount))]),a("span",[a("i",{staticClass:"el-icon-chat-dot-round"}),t._v(" "+t._s(e.article.commentCount))]),a("span",[a("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(e.article.collectionCount))]),a("span",[a("i",{staticClass:"el-icon-thumb"}),t._v(" "+t._s(e.article.likeCount))])]),a("div",{staticClass:"article-footer"},[a("div",{staticClass:"article-time"},[a("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.formatDate(e.createTime))+" ")]),a("div",{staticClass:"article-category"},[a("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(t._s(e.category))])],1)])])]),a("div",{staticClass:"item-actions"},[a("el-tooltip",{attrs:{content:"ç¼–è¾‘å¤‡æ³¨",placement:"top"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return a.stopPropagation(),t.editRemark(e)}}})],1),a("el-tooltip",{attrs:{content:"ç§»åŠ¨åˆ†ç±»",placement:"top"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-folder"},on:{click:function(a){return a.stopPropagation(),t.moveToCategory(e)}}})],1),a("el-tooltip",{attrs:{content:"åˆ é™¤",placement:"top"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return a.stopPropagation(),t.deleteCollection(e.id)}}})],1)],1)],1)}),0):a("div",{staticClass:"empty-state"},[a("i",{staticClass:"el-icon-star-off"}),a("p",[t._v("æš‚æ— æ”¶è—æ–‡ç« ")]),a("p",{staticClass:"hint"},[t._v("å¿«å»å‘ç°ä½ å–œæ¬¢çš„æ–‡ç« å¹¶æ”¶è—å§ï¼")])]),t.total>t.pageSize?a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.total,layout:"prev, pager, next",background:""},on:{"current-change":t.handlePageChange}})],1):t._e(),a("el-dialog",{attrs:{title:t.editingCategory?"ç¼–è¾‘åˆ†ç±»":"æ–°å»ºåˆ†ç±»",visible:t.showCategoryDialog,width:"400px"},on:{"update:visible":function(e){t.showCategoryDialog=e}}},[a("el-form",{attrs:{model:t.categoryForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"åˆ†ç±»åç§°"}},[a("el-input",{attrs:{placeholder:"è¯·è¾“å…¥åˆ†ç±»åç§°"},model:{value:t.categoryForm.categoryName,callback:function(e){t.$set(t.categoryForm,"categoryName",e)},expression:"categoryForm.categoryName"}})],1),a("el-form-item",{attrs:{label:"åˆ†ç±»æè¿°"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥åˆ†ç±»æè¿°ï¼ˆå¯é€‰ï¼‰"},model:{value:t.categoryForm.description,callback:function(e){t.$set(t.categoryForm,"description",e)},expression:"categoryForm.description"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showCategoryDialog=!1}}},[t._v("å–æ¶ˆ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCategory}},[t._v("ç¡®å®š")])],1)],1),a("el-dialog",{attrs:{title:"ç¼–è¾‘å¤‡æ³¨",visible:t.showRemarkDialog,width:"400px"},on:{"update:visible":function(e){t.showRemarkDialog=e}}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"è¯·è¾“å…¥å¤‡æ³¨å†…å®¹"},model:{value:t.remarkForm.remark,callback:function(e){t.$set(t.remarkForm,"remark",e)},expression:"remarkForm.remark"}}),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showRemarkDialog=!1}}},[t._v("å–æ¶ˆ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveRemark}},[t._v("ç¡®å®š")])],1)],1),a("el-dialog",{attrs:{title:"ç§»åŠ¨è‡³åˆ†ç±»",visible:t.showMoveDialog,width:"400px"},on:{"update:visible":function(e){t.showMoveDialog=e}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·é€‰æ‹©åˆ†ç±»"},model:{value:t.moveForm.category,callback:function(e){t.$set(t.moveForm,"category",e)},expression:"moveForm.category"}},t._l(t.categories,function(t){return a("el-option",{key:t.id,attrs:{label:t.categoryName,value:t.categoryName}})}),1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showMoveDialog=!1}}},[t._v("å–æ¶ˆ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveMove}},[t._v("ç¡®å®š")])],1)],1),a("el-dialog",{attrs:{title:"åˆ†äº«æˆ‘çš„æ”¶è—",visible:t.showShareDialog,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.showShareDialog=e}}},[a("div",{staticClass:"share-content"},[a("div",{staticClass:"share-section"},[a("h4",[a("i",{staticClass:"el-icon-link"}),t._v(" åˆ†äº«é“¾æ¥")]),a("div",{staticClass:"share-link-container"},[a("el-input",{staticClass:"share-input",attrs:{value:t.shareUrl,readonly:""}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:t.copyShareLink},slot:"append"},[t._v(" å¤åˆ¶ ")])],1)],1),a("div",{staticClass:"share-tips"},[a("i",{staticClass:"el-icon-info"}),t._v(" åˆ†äº«é“¾æ¥åï¼Œåˆ«äººå¯ä»¥æŸ¥çœ‹ä½ çš„æ”¶è—åˆ—è¡¨ ")])]),a("div",{staticClass:"share-section"},[a("h4",[a("i",{staticClass:"el-icon-picture"}),t._v(" åˆ†äº«å¡ç‰‡")]),a("div",{ref:"shareCard",staticClass:"share-card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-title"},[t._v("ğŸ“š "+t._s(t.currentUser.username)+" çš„æ”¶è—")]),a("div",{staticClass:"card-subtitle"},[t._v(t._s("all"===t.currentCategory?"å…¨éƒ¨æ”¶è—":t.currentCategory))])]),a("div",{staticClass:"card-stats"},[a("div",{staticClass:"stat-item"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.total))]),a("div",{staticClass:"stat-label"},[t._v("æ–‡ç« ")])]),a("div",{staticClass:"stat-item"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.categories.length))]),a("div",{staticClass:"stat-label"},[t._v("åˆ†ç±»")])])]),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"card-user"},[a("el-avatar",{attrs:{size:30,src:t.currentUser.avatar}}),a("span",[t._v(t._s(t.currentUser.username))])],1),a("div",{ref:"qrcodeCanvas",staticClass:"card-qr"})])]),a("div",{staticClass:"share-card-actions"},[a("el-button",{attrs:{size:"small",icon:"el-icon-download"},on:{click:t.downloadShareCard}},[t._v(" ä¸‹è½½åˆ†äº«å¡ç‰‡ ")])],1)])])]),a("el-dialog",{attrs:{title:"åŒæ­¥æˆ‘çš„æ”¶è—",visible:t.showSyncDialog,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(e){t.showSyncDialog=e}}},[a("div",{staticClass:"sync-content"},[a("div",{staticClass:"sync-info"},[a("div",{staticClass:"sync-item"},[a("span",{staticClass:"sync-label"},[t._v("æœ€ååŒæ­¥æ—¶é—´ï¼š")]),a("span",{staticClass:"sync-value"},[t._v(t._s(t.lastSyncTime))])]),a("div",{staticClass:"sync-item"},[a("span",{staticClass:"sync-label"},[t._v("æœ¬åœ°æ”¶è—æ•°ï¼š")]),a("span",{staticClass:"sync-value"},[t._v(t._s(t.total)+" ç¯‡")])]),a("div",{staticClass:"sync-item"},[a("span",{staticClass:"sync-label"},[t._v("æœ¬åœ°åˆ†ç±»æ•°ï¼š")]),a("span",{staticClass:"sync-value"},[t._v(t._s(t.categories.length)+" ä¸ª")])])]),a("div",{staticClass:"sync-tips"},[a("i",{staticClass:"el-icon-info"}),a("div",[a("p",[a("strong",[t._v("ä¸Šä¼ åˆ°äº‘ç«¯ï¼š")]),t._v("å°†æœ¬åœ°æ”¶è—æ•°æ®ä¸Šä¼ åˆ°æœåŠ¡å™¨")]),a("p",[a("strong",[t._v("ä»äº‘ç«¯ä¸‹è½½ï¼š")]),t._v("ä¸‹è½½æœåŠ¡å™¨ä¸Šçš„æ”¶è—æ•°æ®ï¼ˆä¼šè¦†ç›–æœ¬åœ°æ•°æ®ï¼‰")])])]),a("div",{staticClass:"sync-actions"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",loading:t.syncing},on:{click:t.syncToCloud}},[t._v(" ä¸Šä¼ åˆ°äº‘ç«¯ ")]),a("el-button",{attrs:{type:"success",icon:"el-icon-download",loading:t.syncing},on:{click:t.syncFromCloud}},[t._v(" ä»äº‘ç«¯ä¸‹è½½ ")])],1)])])],1)},[],!1,null,"17c13695",null);e.default=s.exports}}]);