(window.webpackJsonp=window.webpackJsonp||[]).push([["user~e05db47a"],{"188c":function(t,e,s){},"2a31":function(t,e,s){"use strict";s("6164")},6164:function(t,e,s){},8061:function(t,e,s){"use strict";s("188c")},"885a":function(t,e,s){"use strict";s.r(e);var i=s("5530"),a={components:{proButton:(s("d3b7"),s("3ca3"),s("ddb0"),s("4de4"),s("498a"),s("ac1f"),s("00b4"),s("c740"),s("a434"),s("b64b"),s("d81d"),s("7db0"),s("b0c0"),s("99af"),s("a4d3"),s("e01a"),function(){return s.e("chunk-94e299d0").then(s.bind(null,"ff66"))}),uploadPicture:function(){return s.e("chunk-commons~31ecd969").then(s.bind(null,"6034"))}},data:function(){return{currentUser:this.$store.state.currentUser,username:"",account:"",password:"",phoneNumber:"",email:"",avatar:"",showDialog:!1,code:"",dialogTitle:"",codeString:"éªŒè¯ç ",passwordFlag:null,intervalCode:null,userStats:{articleCount:0,viewCount:0,likeCount:0,commentCount:0,collectionCount:0,followingCount:0,followersCount:0},userArticles:[],articlesPage:{current:1,size:5},tempAvatar:"",showFollowDialog:!1,followDialogTitle:"",followDialogType:"",followList:[],followListLoading:!1,showAllBadgesDialog:!1,badgeTabType:"unlocked",allBadges:[],userLevel:{level:1,name:"æ–°æ‰‹ä¸Šè·¯",icon:"el-icon-user",color:"#909399",nextLevelPoints:100,nextLevelName:"åˆçº§ä½œè€…"},levelConfig:[{level:1,name:"æ–°æ‰‹ä¸Šè·¯",icon:"el-icon-user",color:"#909399",minPoints:0,maxPoints:100},{level:2,name:"åˆçº§ä½œè€…",icon:"el-icon-edit",color:"#67C23A",minPoints:100,maxPoints:500},{level:3,name:"ä¸­çº§ä½œè€…",icon:"el-icon-edit-outline",color:"#409EFF",minPoints:500,maxPoints:1500},{level:4,name:"é«˜çº§ä½œè€…",icon:"el-icon-notebook-2",color:"#E6A23C",minPoints:1500,maxPoints:5e3},{level:5,name:"ä¸“ä¸šå¤§ç‰›",icon:"el-icon-medal",color:"#F56C6C",minPoints:5e3,maxPoints:15e3},{level:6,name:"é¢†åŸŸä¸“å®¶",icon:"el-icon-trophy",color:"#C71585",minPoints:15e3,maxPoints:5e4},{level:7,name:"ä¼ å¥‡å¤§å¸ˆ",icon:"el-icon-star-on",color:"#FFD700",minPoints:5e4,maxPoints:999999}],badgeDefinitions:[{id:1,name:"æ–°äººæŠ¥é“",icon:"el-icon-user-solid",color:"#67C23A",description:"æˆåŠŸæ³¨å†Œè´¦å·",hint:"å®Œæˆæ³¨å†Œå³å¯è·å¾—",condition:"register"},{id:2,name:"é¦–æ¬¡å‘æ–‡",icon:"el-icon-edit",color:"#409EFF",description:"å‘è¡¨ç¬¬ä¸€ç¯‡æ–‡ç« ",hint:"å‘è¡¨ä¸€ç¯‡æ–‡ç« ",condition:"article_1"},{id:3,name:"ç¬”è€•ä¸è¾",icon:"el-icon-document",color:"#409EFF",description:"å‘è¡¨äº†10ç¯‡æ–‡ç« ",hint:"å‘è¡¨è¾¾åˆ°10ç¯‡æ–‡ç« ",condition:"article_10"},{id:4,name:"å¤šäº§ä½œè€…",icon:"el-icon-notebook-2",color:"#E6A23C",description:"å‘è¡¨äº†50ç¯‡æ–‡ç« ",hint:"å‘è¡¨è¾¾åˆ°50ç¯‡æ–‡ç« ",condition:"article_50"},{id:5,name:"äººæ°”ä¹‹æ˜Ÿ",icon:"el-icon-star-on",color:"#FFD700",description:"è·å¾—100ä¸ªç‚¹èµ",hint:"è·å¾—100ä¸ªç‚¹èµ",condition:"like_100"},{id:6,name:"è¯„è®ºè¾¾äºº",icon:"el-icon-chat-dot-round",color:"#909399",description:"å‘è¡¨100æ¡è¯„è®º",hint:"å‘è¡¨100æ¡è¯„è®º",condition:"comment_100"},{id:7,name:"æ”¶è—å®¶",icon:"el-icon-star-off",color:"#F56C6C",description:"æ”¶è—50ç¯‡æ–‡ç« ",hint:"æ”¶è—50ç¯‡æ–‡ç« ",condition:"collect_50"},{id:8,name:"ç¤¾äº¤è¾¾äºº",icon:"el-icon-user",color:"#409EFF",description:"å…³æ³¨50ä½ç”¨æˆ·",hint:"å…³æ³¨50ä½ç”¨æˆ·",condition:"follow_50"},{id:9,name:"å—æ¬¢è¿è€…",icon:"el-icon-user-solid",color:"#67C23A",description:"è·å¾—100ä½ç²‰ä¸",hint:"è·å¾—100ä½ç²‰ä¸",condition:"fans_100"},{id:10,name:"æŒä¹‹ä»¥æ’",icon:"el-icon-time",color:"#E6A23C",description:"è¿ç»­ç™»å½•30å¤©",hint:"è¿ç»­ç™»å½•30å¤©",condition:"login_30"}],showPointsDialog:!1,pointsTabType:"all",todayPoints:0,weekPoints:0,pointsRecords:[],pointRules:[{name:"æ¯æ—¥ç™»å½•",points:5,icon:"el-icon-user",color:"#67C23A",limit:1},{name:"å‘è¡¨æ–‡ç« ",points:20,icon:"el-icon-edit",color:"#409EFF",limit:5},{name:"å‘è¡¨è¯„è®º",points:2,icon:"el-icon-chat-dot-round",color:"#E6A23C",limit:20},{name:"æ–‡ç« è¢«ç‚¹èµ",points:1,icon:"el-icon-star-on",color:"#FFD700",limit:null},{name:"æ–‡ç« è¢«æ”¶è—",points:3,icon:"el-icon-star-off",color:"#F56C6C",limit:null},{name:"è·å¾—å…³æ³¨",points:5,icon:"el-icon-user",color:"#409EFF",limit:null},{name:"å®Œå–„ä¸ªäººä¿¡æ¯",points:10,icon:"el-icon-edit-outline",color:"#67C23A",limit:1}]}},computed:{levelProgress:function(){var t=this.userStats.totalPoints||0,e=this.userLevel;if(t>=e.nextLevelPoints)return 100;var s=e.nextLevelPoints-(e.minPoints||0),i=t-(e.minPoints||0);return Math.floor(i/s*100)},unlockedBadges:function(){return this.allBadges.filter(function(t){return t.unlocked})},lockedBadges:function(){return this.allBadges.filter(function(t){return!t.unlocked})},incomeRecords:function(){return this.pointsRecords.filter(function(t){return t.points>0})},expenseRecords:function(){return this.pointsRecords.filter(function(t){return t.points<0})}},created:function(){this.$common.isEmpty(this.currentUser)||(this.loadUserStats(),this.loadUserArticles(),this.initializeBadges(),this.calculateUserLevel(),this.loadPointsData())},methods:{handleAvatarUpload:function(t){this.tempAvatar=t},confirmAvatarUpload:function(){this.avatar=this.tempAvatar,this.submitDialog()},addPicture:function(t){this.avatar=t,this.submitDialog()},signUp:function(){document.querySelector("#loginAndRegist").classList.add("right-panel-active")},signIn:function(){document.querySelector("#loginAndRegist").classList.remove("right-panel-active")},login:function(){var t=this;if(this.$common.isEmpty(this.account)||this.$common.isEmpty(this.password))this.$message({message:"è¯·è¾“å…¥è´¦å·æˆ–å¯†ç ï¼",type:"error"});else{var e={account:this.account.trim(),password:this.$common.encrypt(this.password.trim())};this.$http.post(this.$constant.baseURL+"/user/login",e,!1,!1).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),localStorage.setItem("userToken",e.data.accessToken),t.account="",t.password="",t.$http.get(t.$constant.baseURL+"/sysConfig/listSysConfig").then(function(e){e.data&&t.$store.commit("loadSysConfig",e.data),t.$router.push({path:"/"})}).catch(function(e){t.$router.push({path:"/"})}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}},regist:function(){var t=this;if(this.$common.isEmpty(this.username)||this.$common.isEmpty(this.password))this.$message({message:"è¯·è¾“å…¥ç”¨æˆ·åæˆ–å¯†ç ï¼",type:"error"});else{if("é‚®ç®±éªŒè¯ç "===this.dialogTitle&&this.$common.isEmpty(this.email))return this.$message({message:"è¯·è¾“å…¥é‚®ç®±ï¼",type:"error"}),!1;if(this.$common.isEmpty(this.code))this.$message({message:"è¯·è¾“å…¥éªŒè¯ç ï¼",type:"error"});else if(-1===this.username.indexOf(" ")&&-1===this.password.indexOf(" ")){var e={username:this.username.trim(),code:this.code.trim(),password:this.$common.encrypt(this.password.trim())};"é‚®ç®±éªŒè¯ç "===this.dialogTitle&&(e.email=this.email),this.$http.post(this.$constant.baseURL+"/user/regist",e).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),localStorage.setItem("userToken",e.data.accessToken),t.username="",t.password="",t.$http.get(t.$constant.baseURL+"/sysConfig/listSysConfig").then(function(e){e.data&&t.$store.commit("loadSysConfig",e.data),t.$router.push({path:"/"});var s=t.$common.encrypt(localStorage.getItem("userToken"));window.open(t.$constant.imBaseURL+"?userToken="+s)}).catch(function(e){t.$router.push({path:"/"});var s=t.$common.encrypt(localStorage.getItem("userToken"));window.open(t.$constant.imBaseURL+"?userToken="+s)}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}else this.$message({message:"ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½åŒ…å«ç©ºæ ¼ï¼",type:"error"})}},submitUserInfo:function(){var t=this;if(this.checkParameters()){var e={username:this.currentUser.username,gender:this.currentUser.gender};this.$common.isEmpty(this.currentUser.introduction)||(e.introduction=this.currentUser.introduction.trim()),this.$confirm("ç¡®è®¤ä¿å­˜ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"success",center:!0}).then(function(){t.$http.post(t.$constant.baseURL+"/user/updateUserInfo",e).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),t.currentUser=t.$store.state.currentUser,t.$http.get(t.$constant.baseURL+"/sysConfig/listSysConfig").then(function(e){e.data&&(t.$store.commit("loadSysConfig",e.data),t.currentUser=t.$store.state.currentUser),t.$message({message:"ä¿®æ”¹æˆåŠŸï¼",type:"success"})}).catch(function(e){t.$message({message:"ä¿®æ”¹æˆåŠŸï¼",type:"success"})}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}).catch(function(){t.$message({type:"success",message:"å·²å–æ¶ˆä¿å­˜!"})})}},checkParams:function(t){return"ä¿®æ”¹æ‰‹æœºå·"===this.dialogTitle||"ç»‘å®šæ‰‹æœºå·"===this.dialogTitle||"æ‰¾å›å¯†ç "===this.dialogTitle&&1===this.passwordFlag?(t.flag=1,this.$common.isEmpty(this.phoneNumber)?(this.$message({message:"è¯·è¾“å…¥æ‰‹æœºå·ï¼",type:"error"}),!1):/^1[345789]\d{9}$/.test(this.phoneNumber)?(t.place=this.phoneNumber,!0):(this.$message({message:"æ‰‹æœºå·æ ¼å¼æœ‰è¯¯ï¼",type:"error"}),!1)):("ä¿®æ”¹é‚®ç®±"===this.dialogTitle||"ç»‘å®šé‚®ç®±"===this.dialogTitle||"é‚®ç®±éªŒè¯ç "===this.dialogTitle||"æ‰¾å›å¯†ç "===this.dialogTitle&&2===this.passwordFlag)&&(t.flag=2,this.$common.isEmpty(this.email)?(this.$message({message:"è¯·è¾“å…¥é‚®ç®±ï¼",type:"error"}),!1):/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email)?(t.place=this.email,!0):(this.$message({message:"é‚®ç®±æ ¼å¼æœ‰è¯¯ï¼",type:"error"}),!1))},checkParameters:function(){return this.$common.isEmpty(this.currentUser.username)?(this.$message({message:"è¯·è¾“å…¥ç”¨æˆ·åï¼",type:"error"}),!1):-1===this.currentUser.username.indexOf(" ")||(this.$message({message:"ç”¨æˆ·åä¸èƒ½åŒ…å«ç©ºæ ¼ï¼",type:"error"}),!1)},changeDialog:function(t){if("é‚®ç®±éªŒè¯ç "===t){if(this.$common.isEmpty(this.email))return this.$message({message:"è¯·è¾“å…¥é‚®ç®±ï¼",type:"error"}),!1;if(!/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email))return this.$message({message:"é‚®ç®±æ ¼å¼æœ‰è¯¯ï¼",type:"error"}),!1}this.dialogTitle=t,this.showDialog=!0},submitDialog:function(){var t=this;if("ä¿®æ”¹å¤´åƒ"===this.dialogTitle)if(this.$common.isEmpty(this.avatar))this.$message({message:"è¯·ä¸Šä¼ å¤´åƒï¼",type:"error"});else{var e={avatar:this.avatar.trim()};this.$http.post(this.$constant.baseURL+"/user/updateUserInfo",e).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),t.currentUser=t.$store.state.currentUser,t.clearDialog(),t.$message({message:"ä¿®æ”¹æˆåŠŸï¼",type:"success"}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}else"ä¿®æ”¹æ‰‹æœºå·"===this.dialogTitle||"ç»‘å®šæ‰‹æœºå·"===this.dialogTitle||"ä¿®æ”¹é‚®ç®±"===this.dialogTitle||"ç»‘å®šé‚®ç®±"===this.dialogTitle?this.updateSecretInfo():"æ‰¾å›å¯†ç "===this.dialogTitle?1!==this.passwordFlag&&2!==this.passwordFlag?this.$message({message:"è¯·é€‰æ‹©æ‰¾å›æ–¹å¼ï¼",type:"error"}):this.updateSecretInfo():"é‚®ç®±éªŒè¯ç "===this.dialogTitle&&(this.showDialog=!1)},updateSecretInfo:function(){var t=this;if(this.$common.isEmpty(this.code))this.$message({message:"è¯·è¾“å…¥éªŒè¯ç ï¼",type:"error"});else if(this.$common.isEmpty(this.password))this.$message({message:"è¯·è¾“å…¥å¯†ç ï¼",type:"error"});else{var e={code:this.code.trim(),password:this.$common.encrypt(this.password.trim())};this.checkParams(e)&&("æ‰¾å›å¯†ç "===this.dialogTitle?this.$http.post(this.$constant.baseURL+"/user/updateForForgetPassword",e,!1,!1).then(function(e){t.clearDialog(),t.$message({message:"ä¿®æ”¹æˆåŠŸï¼Œè¯·é‡æ–°ç™»é™†ï¼",type:"success"})}).catch(function(e){t.$message({message:e.message,type:"error"})}):this.$http.post(this.$constant.baseURL+"/user/updateSecretInfo",e,!1,!1).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),t.currentUser=t.$store.state.currentUser,t.clearDialog(),t.$http.get(t.$constant.baseURL+"/sysConfig/listSysConfig").then(function(e){e.data&&(t.$store.commit("loadSysConfig",e.data),t.currentUser=t.$store.state.currentUser),t.$message({message:"ä¿®æ”¹æˆåŠŸï¼",type:"success"})}).catch(function(e){t.$message({message:"ä¿®æ”¹æˆåŠŸï¼",type:"success"})}))}).catch(function(e){t.$message({message:e.message,type:"error"})}))}},getCode:function(){var t=this;if("éªŒè¯ç "===this.codeString){var e,s={};if(!this.checkParams(s))return;e="æ‰¾å›å¯†ç "===this.dialogTitle||"é‚®ç®±éªŒè¯ç "===this.dialogTitle?"/user/getCodeForForgetPassword":"/user/getCodeForBind",this.$http.get(this.$constant.baseURL+e,s).then(function(e){t.$message({message:"éªŒè¯ç å·²å‘é€ï¼Œè¯·æ³¨æ„æŸ¥æ”¶ï¼",type:"success"})}).catch(function(e){t.$message({message:e.message,type:"error"})}),this.codeString="30",this.intervalCode=setInterval(function(){"0"===t.codeString?(clearInterval(t.intervalCode),t.codeString="éªŒè¯ç "):t.codeString=parseInt(t.codeString)-1+""},1e3)}else this.$message({message:"è¯·ç¨åå†è¯•ï¼",type:"warning"})},clearDialog:function(){this.password="",this.phoneNumber="",this.email="",this.avatar="",this.tempAvatar="",this.showDialog=!1,this.code="",this.dialogTitle="",this.passwordFlag=null},loadUserStats:function(){var t=this;this.$http.get(this.$constant.baseURL+"/user/getUserStats",{userId:this.currentUser.id}).then(function(e){e&&e.data&&(t.userStats=e.data)}).catch(function(t){})},loadUserArticles:function(){var t=this,e={current:this.articlesPage.current,size:this.articlesPage.size,userId:this.currentUser.id,viewStatus:!0};this.$http.post(this.$constant.baseURL+"/article/listArticle",e).then(function(e){e&&e.data&&e.data.records&&(t.userArticles=e.data.records)}).catch(function(t){})},goToArticle:function(t){this.$router.push({path:"/article/".concat(t)})},goToMyCollections:function(){this.$router.push({path:"/collection"})},showFollowingList:function(){this.followDialogTitle="æˆ‘çš„å…³æ³¨",this.followDialogType="following",this.showFollowDialog=!0,this.loadFollowList("following")},showFollowersList:function(){this.followDialogTitle="æˆ‘çš„ç²‰ä¸",this.followDialogType="followers",this.showFollowDialog=!0,this.loadFollowList("followers")},loadFollowList:function(t){var e=this;this.followListLoading=!0,this.followList=[];var s="following"===t?"/user/getFollowingList":"/user/getFollowersList";this.$http.get(this.$constant.baseURL+s,{userId:this.currentUser.id}).then(function(t){t&&t.data&&(e.followList=t.data)}).catch(function(t){e.$message.error("åŠ è½½åˆ—è¡¨å¤±è´¥ï¼š"+(t.message||"æœªçŸ¥é”™è¯¯"))}).finally(function(){e.followListLoading=!1})},getMockFollowList:function(t){return[]},toggleFollow:function(t){t.isFollowing?this.unfollowUser(t):this.followUser(t)},followUser:function(t){var e=this;this.$http.post(this.$constant.baseURL+"/user/follow",{followUserId:t.id}).then(function(s){e.$message({type:"success",message:"å…³æ³¨æˆåŠŸï¼"}),t.isFollowing=!0,e.userStats.followingCount++,e.loadUserStats()}).catch(function(t){e.$message({type:"error",message:t.message||"å…³æ³¨å¤±è´¥"})})},unfollowUser:function(t){var e=this;this.$confirm("ç¡®å®šè¦å–æ¶ˆå…³æ³¨å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(function(){e.$http.post(e.$constant.baseURL+"/user/unfollow",{followUserId:t.id}).then(function(s){if(e.$message({type:"success",message:"å·²å–æ¶ˆå…³æ³¨ï¼"}),t.isFollowing=!1,e.userStats.followingCount--,"following"===e.followDialogType){var i=e.followList.findIndex(function(e){return e.id===t.id});i>-1&&e.followList.splice(i,1)}e.loadUserStats()}).catch(function(t){e.$message({type:"error",message:t.message||"å–æ¶ˆå…³æ³¨å¤±è´¥"})})}).catch(function(){e.$message({type:"info",message:"å·²å–æ¶ˆæ“ä½œ"})})},initializeBadges:function(){var t=this;this.userStats&&Object.keys(this.userStats).length,this.$http.get(this.$constant.baseURL+"/user/getUserBadges",{userId:this.currentUser.id}).then(function(e){var s=e.data||[];t.allBadges=t.badgeDefinitions.map(function(t){var e=s.find(function(e){return e.badgeId===t.id});return Object(i.a)(Object(i.a)({},t),{},{unlocked:!!e,unlockTime:e?e.unlockTime:null})})}).catch(function(e){t.simulateBadges()})},simulateBadges:function(){var t=this.userStats||{};this.allBadges=this.badgeDefinitions.map(function(e){var s=!1;switch(e.condition){case"register":s=!0;break;case"article_1":s=(t.articleCount||0)>=1;break;case"article_10":s=(t.articleCount||0)>=10;break;case"article_50":s=(t.articleCount||0)>=50;break;case"like_100":s=(t.likeCount||0)>=100;break;case"comment_100":s=(t.commentCount||0)>=100;break;case"collect_50":s=(t.collectionCount||0)>=50;break;case"follow_50":s=(t.followingCount||0)>=50;break;case"fans_100":s=(t.followersCount||0)>=100;break;case"login_30":s=!1}return Object(i.a)(Object(i.a)({},e),{},{unlocked:s,unlockTime:s?(new Date).toISOString():null})})},calculateUserLevel:function(){for(var t=this.userStats.totalPoints||0,e=this.levelConfig[0],s=this.levelConfig.length-1;s>=0;s--)if(t>=this.levelConfig[s].minPoints){e=this.levelConfig[s];break}var a=this.levelConfig.find(function(e){return e.minPoints>t});this.userLevel=Object(i.a)(Object(i.a)({},e),{},{minPoints:e.minPoints,nextLevelPoints:a?a.minPoints:e.maxPoints,nextLevelName:a?a.name:"æ»¡çº§"})},showBadgeDetail:function(t){this.$alert('<div style="text-align: center;">\n          <i class="'.concat(t.icon,'" style="font-size: 64px; color: ').concat(t.color,'; margin-bottom: 15px;"></i>\n          <h3 style="margin: 10px 0;">').concat(t.name,'</h3>\n          <p style="color: #606266; margin: 10px 0;">').concat(t.description,'</p>\n          <p style="color: #909399; font-size: 14px;">è§£é”æ—¶é—´ï¼š').concat(this.formatDate(t.unlockTime),"</p>\n        </div>"),"å¾½ç« è¯¦æƒ…",{dangerouslyUseHTMLString:!0,confirmButtonText:"å…³é—­"})},formatDate:function(t){return t?new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"æœªçŸ¥"},loadPointsData:function(){var t=this;this.$http.get("".concat(this.$constant.baseURL,"/user/getPointsRecords?userId=").concat(this.currentUser.id)).then(function(e){e&&e.data&&(t.pointsRecords=e.data.records||[],t.todayPoints=e.data.todayPoints||0,t.weekPoints=e.data.weekPoints||0)}).catch(function(e){t.simulatePointsData()})},simulatePointsData:function(){var t=new Date,e=[{title:"æ¯æ—¥ç™»å½•å¥–åŠ±",points:5,icon:"el-icon-user",color:"#67C23A",createTime:new Date(t.getTime()-18e5).toISOString()},{title:"å‘è¡¨æ–‡ç« ã€ŠVueå¼€å‘å®è·µã€‹",points:20,icon:"el-icon-edit",color:"#409EFF",createTime:new Date(t.getTime()-72e5).toISOString()},{title:"å‘è¡¨è¯„è®º",points:2,icon:"el-icon-chat-dot-round",color:"#E6A23C",createTime:new Date(t.getTime()-18e6).toISOString()},{title:"æ–‡ç« è¢«ç‚¹èµ",points:1,icon:"el-icon-star-on",color:"#FFD700",createTime:new Date(t.getTime()-864e5).toISOString()},{title:"æ–‡ç« è¢«æ”¶è—",points:3,icon:"el-icon-star-off",color:"#F56C6C",createTime:new Date(t.getTime()-1728e5).toISOString()},{title:"è·å¾—ç²‰ä¸å…³æ³¨",points:5,icon:"el-icon-user",color:"#409EFF",createTime:new Date(t.getTime()-2592e5).toISOString()}];this.pointsRecords=e;var s=new Date;s.setHours(0,0,0,0);var i=new Date(s);i.setDate(s.getDate()-s.getDay()),this.todayPoints=e.filter(function(t){return new Date(t.createTime)>=s}).reduce(function(t,e){return t+e.points},0),this.weekPoints=e.filter(function(t){return new Date(t.createTime)>=i}).reduce(function(t,e){return t+e.points},0)},formatRecordTime:function(t){if(!t)return"";var e=new Date(t),s=new Date-e;return s<6e4?"åˆšåˆš":s<36e5?Math.floor(s/6e4)+"åˆ†é’Ÿå‰":s<864e5?Math.floor(s/36e5)+"å°æ—¶å‰":s<6048e5?Math.floor(s/864e5)+"å¤©å‰":e.toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})},handleBadgeDialogOpen:function(){},handleBadgeDialogClose:function(){},handlePointsDialogOpen:function(){var t=this;this.$http.get("".concat(this.$constant.baseURL,"/user/getPointsRecords?userId=").concat(this.currentUser.id)).then(function(e){e&&e.data&&(t.pointsRecords=e.data.records||[],t.todayPoints=e.data.todayPoints||0,t.weekPoints=e.data.weekPoints||0)}).catch(function(e){t.simulatePointsData()})},handlePointsDialogClose:function(){},getSignupBackgroundImage:function(){if(this.$store.state.sysConfig&&this.$store.state.sysConfig.signupBackground)return this.$store.state.sysConfig.signupBackground;var t=this.$store.state.webInfo;return t&&t.randomCover&&t.randomCover.length>0?t.randomCover[Math.floor(Math.random()*t.randomCover.length)]:""},getUserInfoBackgroundImage:function(){var t=this.$store.state.webInfo;return t&&t.randomCover&&t.randomCover.length>0?t.randomCover[Math.floor(Math.random()*t.randomCover.length)]:""},mounted:function(){}}},o=a,n=(s("2a31"),s("8061"),s("2877")),l=Object(n.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.$common.isEmpty(t.currentUser)?s("div",{staticClass:"myCenter in-up-container my-animation-hideToShow"},[t._m(0),s("div",{staticClass:"in-up",attrs:{id:"loginAndRegist"}},[s("div",{staticClass:"form-container sign-up-container"},[s("div",{staticClass:"myCenter"},[s("h1",[t._v("æ³¨å†Œ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",maxlength:"30",placeholder:"ç”¨æˆ·å"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",maxlength:"30",placeholder:"å¯†ç "},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"é‚®ç®±"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"éªŒè¯ç ",disabled:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),s("a",{staticStyle:{margin:"0"},attrs:{href:"#"},on:{click:function(e){return t.changeDialog("é‚®ç®±éªŒè¯ç ")}}},[t._v("è·å–éªŒè¯ç ")]),s("button",{on:{click:function(e){return t.regist()}}},[t._v("æ³¨å†Œ")])])]),s("div",{staticClass:"form-container sign-in-container"},[s("div",{staticClass:"myCenter"},[s("h1",[t._v("ç™»å½•")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"ç”¨æˆ·å/é‚®ç®±/æ‰‹æœºå·"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"å¯†ç "},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeDialog("æ‰¾å›å¯†ç ")}}},[t._v("å¿˜è®°å¯†ç ï¼Ÿ")]),s("button",{on:{click:function(e){return t.login()}}},[t._v("ç™»å½•")])])]),s("div",{staticClass:"overlay-container"},[s("div",{staticClass:"overlay"},[s("div",{staticClass:"overlay-panel myCenter overlay-left"},[s("h1",[t._v("å·²æœ‰å¸å·ï¼Ÿ")]),s("p",[t._v("è¯·ç™»å½•ğŸš€")]),s("button",{staticClass:"ghost",on:{click:function(e){return t.signIn()}}},[t._v("ç™»å½•")])]),s("div",{staticClass:"overlay-panel myCenter overlay-right"},[s("h1",[t._v("æ²¡æœ‰å¸å·ï¼Ÿ")]),s("p",[t._v("ç«‹å³æ³¨å†Œå§ğŸ˜ƒ")]),s("button",{staticClass:"ghost",on:{click:function(e){return t.signUp()}}},[t._v("æ³¨å†Œ")])])])])])],1):s("div",{staticClass:"user-container myCenter my-animation-hideToShow"},[t._m(1),s("div",{staticClass:"shadow-box-mini user-info",staticStyle:{display:"flex"}},[s("div",{staticClass:"user-left"},[s("div",{staticClass:"avatar-container"},[s("el-avatar",{staticClass:"user-avatar",attrs:{size:80,src:t.currentUser.avatar}}),s("div",{staticClass:"avatar-overlay",on:{click:function(e){return t.changeDialog("ä¿®æ”¹å¤´åƒ")}}},[s("i",{staticClass:"el-icon-camera"}),s("span",[t._v("æ›´æ¢å¤´åƒ")])]),s("div",{staticClass:"user-level-badge",class:"level-"+t.userLevel.level},[s("i",{class:t.userLevel.icon}),s("span",[t._v(t._s(t.userLevel.name))])])],1),s("div",{staticClass:"user-level-info"},[s("div",{staticClass:"level-title"},[s("span",[t._v("å½“å‰ç­‰çº§ï¼š")]),s("span",{staticClass:"level-name"},[t._v(t._s(t.userLevel.name))])]),s("div",{staticClass:"level-progress"},[s("el-progress",{attrs:{percentage:t.levelProgress,color:t.userLevel.color,"stroke-width":8}}),s("div",{staticClass:"progress-text"},[t._v(" "+t._s(t.userStats.totalPoints||0)+" / "+t._s(t.userLevel.nextLevelPoints)+" ç§¯åˆ† ")])],1),s("div",{staticClass:"next-level-tip"},[t._v(" è·ç¦»ä¸‹ä¸€çº§ "),s("strong",[t._v(t._s(t.userLevel.nextLevelName))]),t._v(" è¿˜å·® "+t._s(t.userLevel.nextLevelPoints-(t.userStats.totalPoints||0))+" ç§¯åˆ† ")])]),s("div",{staticClass:"user-badges"},[s("div",{staticClass:"badges-title"},[s("i",{staticClass:"el-icon-trophy"}),s("span",[t._v("æˆå°±å¾½ç«  ("+t._s(t.unlockedBadges.length)+"/"+t._s(t.allBadges.length)+")")])]),s("div",{staticClass:"badges-grid"},t._l(t.allBadges,function(e){return s("el-tooltip",{key:e.id,attrs:{content:e.unlocked?e.description:"æœªè§£é”",placement:"top"}},[s("div",{class:["badge-item",{unlocked:e.unlocked,locked:!e.unlocked}],on:{click:function(s){e.unlocked&&t.showBadgeDetail(e)}}},[s("i",{class:e.icon,style:{color:e.unlocked?e.color:"#ccc"}}),s("div",{staticClass:"badge-name"},[t._v(t._s(e.name))])])])}),1),s("div",{staticClass:"view-all-badges",on:{click:function(e){t.showAllBadgesDialog=!0}}},[t._v(" æŸ¥çœ‹å…¨éƒ¨å¾½ç«  "),s("i",{staticClass:"el-icon-arrow-right"})])]),s("div",{staticClass:"points-system"},[s("div",{staticClass:"points-header"},[t._m(2),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.showPointsDialog=!0}}},[t._v(" æŸ¥çœ‹æ˜ç»† "),s("i",{staticClass:"el-icon-arrow-right"})])],1),s("div",{staticClass:"points-total"},[s("div",{staticClass:"total-points"},[s("div",{staticClass:"points-number"},[t._v(t._s(t.userStats.totalPoints||0))]),s("div",{staticClass:"points-label"},[t._v("æ€»ç§¯åˆ†")])]),s("div",{staticClass:"points-trend"},[s("div",{staticClass:"trend-item"},[s("span",{staticClass:"trend-label"},[t._v("ä»Šæ—¥è·å¾—ï¼š")]),s("span",{staticClass:"trend-value green"},[t._v("+"+t._s(t.todayPoints))])]),s("div",{staticClass:"trend-item"},[s("span",{staticClass:"trend-label"},[t._v("æœ¬å‘¨è·å¾—ï¼š")]),s("span",{staticClass:"trend-value green"},[t._v("+"+t._s(t.weekPoints))])])])]),s("div",{staticClass:"points-rules"},[s("div",{staticClass:"rules-title"},[t._v("ğŸ¯ è·å–ç§¯åˆ†æ–¹å¼")]),s("div",{staticClass:"rules-list"},t._l(t.pointRules,function(e,i){return s("div",{key:i,staticClass:"rule-item"},[s("i",{class:e.icon,style:{color:e.color}}),s("div",{staticClass:"rule-content"},[s("span",{staticClass:"rule-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"rule-points"},[t._v("+"+t._s(e.points))])]),e.limit?s("div",{staticClass:"rule-limit"},[t._v("æ¯æ—¥ä¸Šé™"+t._s(e.limit)+"æ¬¡")]):t._e()])}),0)])]),s("div",{staticClass:"myCenter",staticStyle:{"margin-top":"12px"}},[t._m(3),s("div",{staticClass:"user-content"},[s("div",[s("el-input",{attrs:{maxlength:"30"},model:{value:t.currentUser.username,callback:function(e){t.$set(t.currentUser,"username",e)},expression:"currentUser.username"}})],1),s("div",[t.$common.isEmpty(t.currentUser.phoneNumber)?s("div",[s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("ç»‘å®šæ‰‹æœºå·")}}},[t._v("ç»‘å®šæ‰‹æœºå·ï¼ˆåŠŸèƒ½æœªæ¥å…¥ï¼‰")])]):s("div",[t._v(" "+t._s(t.currentUser.phoneNumber)+" "),s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("ä¿®æ”¹æ‰‹æœºå·")}}},[t._v("ä¿®æ”¹ï¼ˆåŠŸèƒ½æœªæ¥å…¥ï¼‰")])])]),s("div",[t.$common.isEmpty(t.currentUser.email)?s("div",[s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("ç»‘å®šé‚®ç®±")}}},[t._v("ç»‘å®šé‚®ç®±")])]):s("div",[t._v(" "+t._s(t.currentUser.email)+" "),s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("ä¿®æ”¹é‚®ç®±")}}},[t._v("ä¿®æ”¹")])])]),s("div",[s("el-radio-group",{model:{value:t.currentUser.gender,callback:function(e){t.$set(t.currentUser,"gender",e)},expression:"currentUser.gender"}},[s("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:0}},[t._v("è–›å®šè°”çš„çŒ«")]),s("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:1}},[t._v("ç”·")]),s("el-radio",{attrs:{label:2}},[t._v("å¥³")])],1)],1),s("div",[s("el-input",{attrs:{maxlength:"60",type:"textarea","show-word-limit":""},model:{value:t.currentUser.introduction,callback:function(e){t.$set(t.currentUser,"introduction",e)},expression:"currentUser.introduction"}})],1)])]),s("div",{staticStyle:{"margin-top":"20px"}},[s("proButton",{attrs:{info:"æäº¤",before:t.$constant.before_color_2,after:t.$constant.after_color_2},nativeOn:{click:function(e){return t.submitUserInfo()}}})],1)]),s("div",{staticClass:"user-right"},[s("div",{staticClass:"user-stats-container"},[t._m(4),s("div",{staticClass:"stats-grid"},[s("div",{staticClass:"stat-card",on:{click:t.goToMyCollections}},[t._m(5),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.collectionCount||0))]),s("div",{staticClass:"stat-label"},[t._v("æˆ‘çš„æ”¶è—")])])]),s("div",{staticClass:"stat-card",on:{click:t.showFollowingList}},[t._m(6),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.followingCount||0))]),s("div",{staticClass:"stat-label"},[t._v("å…³æ³¨")])])]),s("div",{staticClass:"stat-card",on:{click:t.showFollowersList}},[t._m(7),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.followersCount||0))]),s("div",{staticClass:"stat-label"},[t._v("ç²‰ä¸")])])]),s("div",{staticClass:"stat-card"},[t._m(8),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.articleCount||0))]),s("div",{staticClass:"stat-label"},[t._v("æ–‡ç« æ•°")])])]),s("div",{staticClass:"stat-card"},[t._m(9),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.viewCount||0))]),s("div",{staticClass:"stat-label"},[t._v("é˜…è¯»é‡")])])]),s("div",{staticClass:"stat-card"},[t._m(10),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.likeCount||0))]),s("div",{staticClass:"stat-label"},[t._v("è·èµæ•°")])])]),s("div",{staticClass:"stat-card"},[t._m(11),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.commentCount||0))]),s("div",{staticClass:"stat-label"},[t._v("è¯„è®ºæ•°")])])])])]),s("div",{staticClass:"user-articles-container"},[t._m(12),t.userArticles.length>0?s("div",{staticClass:"articles-list"},t._l(t.userArticles,function(e){return s("div",{key:e.id,staticClass:"article-item",on:{click:function(s){return t.goToArticle(e.id)}}},[s("div",{staticClass:"article-info"},[s("div",{staticClass:"article-title"},[t._v(t._s(e.articleTitle))]),s("div",{staticClass:"article-meta"},[s("span",[s("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(e.viewCount))]),s("span",[s("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(e.likeCount))]),s("span",[s("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.$common.getDateDiff(e.createTime)))])])])])}),0):s("div",{staticClass:"no-articles"},[s("i",{staticClass:"el-icon-document-delete"}),s("p",[t._v("è¿˜æ²¡æœ‰å‘è¡¨æ–‡ç« å™¢~")])])])])])],1),s("el-dialog",{attrs:{title:t.dialogTitle,visible:t.showDialog,width:"30%","before-close":t.clearDialog,"append-to-body":!0,"close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.showDialog=e}}},[s("div",{staticClass:"myCenter",staticStyle:{"flex-direction":"column"}},[s("div",["ä¿®æ”¹æ‰‹æœºå·"===t.dialogTitle||"ç»‘å®šæ‰‹æœºå·"===t.dialogTitle?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("æ‰‹æœºå·ï¼š")]),s("el-input",{model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("éªŒè¯ç ï¼š")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("å¯†ç ï¼š")]),s("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):"ä¿®æ”¹é‚®ç®±"===t.dialogTitle||"ç»‘å®šé‚®ç®±"===t.dialogTitle?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("é‚®ç®±ï¼š")]),s("el-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("éªŒè¯ç ï¼š")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("å¯†ç ï¼š")]),s("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):"ä¿®æ”¹å¤´åƒ"===t.dialogTitle?s("div",[s("div",{staticClass:"avatar-upload-container"},[t.tempAvatar?s("div",{staticClass:"avatar-preview-container"},[s("div",{staticClass:"preview-title"},[s("i",{staticClass:"el-icon-picture"}),s("span",[t._v("å¤´åƒé¢„è§ˆ")])]),s("div",{staticClass:"preview-image-wrapper"},[s("img",{staticClass:"preview-image",attrs:{src:t.tempAvatar}})]),s("div",{staticClass:"preview-actions"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.tempAvatar=""}}},[s("i",{staticClass:"el-icon-refresh-left"}),t._v(" é‡æ–°ä¸Šä¼  ")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirmAvatarUpload}},[s("i",{staticClass:"el-icon-check"}),t._v(" ç¡®è®¤ä½¿ç”¨ ")])],1)]):s("div",{staticClass:"upload-area"},[s("uploadPicture",{attrs:{prefix:"userAvatar",maxSize:2,maxNumber:1},on:{addPicture:t.handleAvatarUpload}}),s("div",{staticClass:"upload-tips"},[s("p",[s("i",{staticClass:"el-icon-info"}),t._v(" æ”¯æŒ JPGã€PNG æ ¼å¼")]),s("p",[s("i",{staticClass:"el-icon-info"}),t._v(" æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 2MB")]),s("p",[s("i",{staticClass:"el-icon-info"}),t._v(" å»ºè®®ä¸Šä¼ æ­£æ–¹å½¢å›¾ç‰‡")])])],1)])]):"æ‰¾å›å¯†ç "===t.dialogTitle?s("div",[s("div",{staticClass:"myCenter",staticStyle:{"margin-bottom":"12px"}},[s("el-radio-group",{model:{value:t.passwordFlag,callback:function(e){t.passwordFlag=e},expression:"passwordFlag"}},[s("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:1}},[t._v("æ‰‹æœºå·")]),s("el-radio",{attrs:{label:2}},[t._v("é‚®ç®±")])],1)],1),1===t.passwordFlag?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("æ‰‹æœºå·ï¼š")]),s("el-input",{model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("éªŒè¯ç ï¼š")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("æ–°å¯†ç ï¼š")]),s("el-input",{attrs:{maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):2===t.passwordFlag?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("é‚®ç®±ï¼š")]),s("el-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("éªŒè¯ç ï¼š")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("æ–°å¯†ç ï¼š")]),s("el-input",{attrs:{maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):t._e()]):"é‚®ç®±éªŒè¯ç "===t.dialogTitle?s("div",[s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("é‚®ç®±ï¼š")]),s("el-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("éªŒè¯ç ï¼š")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)]):t._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:"ä¿®æ”¹å¤´åƒ"!==t.dialogTitle,expression:"dialogTitle !== 'ä¿®æ”¹å¤´åƒ'"}],staticStyle:{display:"flex","margin-top":"30px"}},[s("proButton",{directives:[{name:"show",rawName:"v-show",value:"ä¿®æ”¹æ‰‹æœºå·"===t.dialogTitle||"ç»‘å®šæ‰‹æœºå·"===t.dialogTitle||"ä¿®æ”¹é‚®ç®±"===t.dialogTitle||"ç»‘å®šé‚®ç®±"===t.dialogTitle||"æ‰¾å›å¯†ç "===t.dialogTitle||"é‚®ç®±éªŒè¯ç "===t.dialogTitle,expression:"dialogTitle === 'ä¿®æ”¹æ‰‹æœºå·' || dialogTitle === 'ç»‘å®šæ‰‹æœºå·' || dialogTitle === 'ä¿®æ”¹é‚®ç®±' || dialogTitle === 'ç»‘å®šé‚®ç®±' || dialogTitle === 'æ‰¾å›å¯†ç ' || dialogTitle === 'é‚®ç®±éªŒè¯ç '"}],staticStyle:{"margin-right":"20px"},attrs:{info:t.codeString,before:t.$constant.before_color_1,after:t.$constant.after_color_1},nativeOn:{click:function(e){return t.getCode()}}}),s("proButton",{attrs:{info:"æäº¤",before:t.$constant.before_color_2,after:t.$constant.after_color_2},nativeOn:{click:function(e){return t.submitDialog()}}})],1)])]),s("el-dialog",{attrs:{title:t.followDialogTitle,visible:t.showFollowDialog,width:"500px"},on:{"update:visible":function(e){t.showFollowDialog=e}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.followListLoading,expression:"followListLoading"}],staticClass:"follow-list-container"},[t.followList.length>0?s("div",{staticClass:"follow-list"},t._l(t.followList,function(e){return s("div",{key:e.id,staticClass:"follow-user-item"},[s("div",{staticClass:"follow-user-info"},[s("el-avatar",{attrs:{size:50,src:e.avatar}}),s("div",{staticClass:"follow-user-details"},[s("div",{staticClass:"follow-username"},[t._v(t._s(e.username))]),s("div",{staticClass:"follow-intro"},[t._v(t._s(e.introduction||"æš‚æ— ç®€ä»‹"))])])],1),s("div",{staticClass:"follow-actions"},["following"===t.followDialogType?s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(s){return t.unfollowUser(e)}}},[t._v(" å–æ¶ˆå…³æ³¨ ")]):s("el-button",{attrs:{size:"small",type:e.isFollowing?"info":"primary"},on:{click:function(s){return t.toggleFollow(e)}}},[t._v(" "+t._s(e.isFollowing?"äº’ç›¸å…³æ³¨":"å…³æ³¨")+" ")])],1)])}),0):s("div",{staticClass:"no-follow-data"},[s("i",{staticClass:"el-icon-user"}),s("p",[t._v(t._s("following"===t.followDialogType?"è¿˜æ²¡æœ‰å…³æ³¨ä»»ä½•äººå“¦~":"è¿˜æ²¡æœ‰ç²‰ä¸å“¦~"))])])])]),s("el-dialog",{attrs:{title:"æˆå°±å¾½ç« ",visible:t.showAllBadgesDialog,width:"700px","custom-class":"badges-dialog"},on:{"update:visible":function(e){t.showAllBadgesDialog=e},open:t.handleBadgeDialogOpen,close:t.handleBadgeDialogClose}},[t.allBadges&&t.allBadges.length>0?s("div",{staticClass:"all-badges-container"},[s("el-tabs",{model:{value:t.badgeTabType,callback:function(e){t.badgeTabType=e},expression:"badgeTabType"}},[s("el-tab-pane",{attrs:{label:"å·²è§£é”",name:"unlocked"}},[s("div",{staticClass:"badges-list"},t._l(t.unlockedBadges,function(e){return s("div",{key:e.id,staticClass:"badge-detail-item"},[s("div",{staticClass:"badge-icon-large"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"badge-info"},[s("div",{staticClass:"badge-detail-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"badge-description"},[t._v(t._s(e.description))]),s("div",{staticClass:"badge-unlock-time"},[s("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.formatDate(e.unlockTime))+" ")])])])}),0)]),s("el-tab-pane",{attrs:{label:"æœªè§£é”",name:"locked"}},[s("div",{staticClass:"badges-list"},t._l(t.lockedBadges,function(e){return s("div",{key:e.id,staticClass:"badge-detail-item locked-item"},[s("div",{staticClass:"badge-icon-large"},[s("i",{class:e.icon,staticStyle:{color:"#ccc"}})]),s("div",{staticClass:"badge-info"},[s("div",{staticClass:"badge-detail-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"badge-description"},[t._v(t._s(e.description))]),s("div",{staticClass:"badge-hint"},[t._v(t._s(e.hint))])])])}),0)])],1)],1):s("div",{staticClass:"no-badges"},[s("p",[t._v("æš‚æ— å¾½ç« æ•°æ®")])])]),s("el-dialog",{attrs:{title:"ğŸ’° ç§¯åˆ†æ˜ç»†",visible:t.showPointsDialog,width:"700px"},on:{"update:visible":function(e){t.showPointsDialog=e},open:t.handlePointsDialogOpen,close:t.handlePointsDialogClose}},[s("div",{staticClass:"points-detail-container"},[s("div",{staticClass:"points-overview"},[s("div",{staticClass:"overview-item"},[s("div",{staticClass:"overview-label"},[t._v("æ€»ç§¯åˆ†")]),s("div",{staticClass:"overview-value",staticStyle:{color:"#409EFF"}},[t._v(t._s(t.userStats.totalPoints||0))])]),s("div",{staticClass:"overview-item"},[s("div",{staticClass:"overview-label"},[t._v("ä»Šæ—¥è·å¾—")]),s("div",{staticClass:"overview-value",staticStyle:{color:"#67C23A"}},[t._v("+"+t._s(t.todayPoints))])]),s("div",{staticClass:"overview-item"},[s("div",{staticClass:"overview-label"},[t._v("æœ¬å‘¨è·å¾—")]),s("div",{staticClass:"overview-value",staticStyle:{color:"#E6A23C"}},[t._v("+"+t._s(t.weekPoints))])])]),s("div",{staticClass:"points-records"},[s("el-tabs",{model:{value:t.pointsTabType,callback:function(e){t.pointsTabType=e},expression:"pointsTabType"}},[s("el-tab-pane",{attrs:{label:"å…¨éƒ¨è®°å½•",name:"all"}},[s("div",{staticClass:"records-list"},[t._l(t.pointsRecords,function(e,i){return s("div",{key:i,staticClass:"record-item"},[s("div",{staticClass:"record-icon"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"record-content"},[s("div",{staticClass:"record-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"record-time"},[t._v(t._s(t.formatRecordTime(e.createTime)))])]),s("div",{class:["record-points",e.points>0?"positive":"negative"]},[t._v(" "+t._s(e.points>0?"+":"")+t._s(e.points)+" ")])])}),0===t.pointsRecords.length?s("div",{staticClass:"no-records"},[s("i",{staticClass:"el-icon-document"}),s("p",[t._v("æš‚æ— ç§¯åˆ†è®°å½•")])]):t._e()],2)]),s("el-tab-pane",{attrs:{label:"æ”¶å…¥",name:"income"}},[s("div",{staticClass:"records-list"},t._l(t.incomeRecords,function(e,i){return s("div",{key:i,staticClass:"record-item"},[s("div",{staticClass:"record-icon"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"record-content"},[s("div",{staticClass:"record-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"record-time"},[t._v(t._s(t.formatRecordTime(e.createTime)))])]),s("div",{staticClass:"record-points positive"},[t._v("+"+t._s(e.points))])])}),0)]),s("el-tab-pane",{attrs:{label:"æ”¯å‡º",name:"expense"}},[s("div",{staticClass:"records-list"},t._l(t.expenseRecords,function(e,i){return s("div",{key:i,staticClass:"record-item"},[s("div",{staticClass:"record-icon"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"record-content"},[s("div",{staticClass:"record-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"record-time"},[t._v(t._s(t.formatRecordTime(e.createTime)))])]),s("div",{staticClass:"record-points negative"},[t._v(t._s(e.points))])])}),0)])],1)],1)])])],1)},[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-image",{staticClass:"my-el-image",staticStyle:{position:"absolute"},attrs:{lazy:"",src:t.getSignupBackgroundImage(),fit:"cover"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-image",{staticClass:"my-el-image",staticStyle:{position:"absolute"},attrs:{lazy:"",src:t.getUserInfoBackgroundImage(),fit:"cover"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"points-title"},[s("i",{staticClass:"el-icon-coin"}),s("span",[t._v("ç§¯åˆ†ä½“ç³»")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-title"},[s("div",[t._v("ç”¨æˆ·åï¼š")]),s("div",[t._v("æ‰‹æœºå·ï¼š")]),s("div",[t._v("é‚®ç®±ï¼š")]),s("div",[t._v("æ€§åˆ«ï¼š")]),s("div",[t._v("ç®€ä»‹ï¼š")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stats-title"},[s("i",{staticClass:"el-icon-data-analysis"}),s("span",[t._v("ä¸ªäººæ•°æ®")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-star-off"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-user-solid"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-document"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-view"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-star-on"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-chat-dot-round"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"articles-title"},[s("i",{staticClass:"el-icon-notebook-2"}),s("span",[t._v("æˆ‘çš„æ–‡ç« ")])])}],!1,null,"6dd5d634",null);e.default=l.exports}}]);