(window.webpackJsonp=window.webpackJsonp||[]).push([["user~c9c4de14"],{"188c":function(t,e,s){},"774e":function(t,e,s){"use strict";s("8703")},8061:function(t,e,s){"use strict";s("188c")},8703:function(t,e,s){},"885a":function(t,e,s){"use strict";s.r(e);var i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-image",{staticClass:"my-el-image",staticStyle:{position:"absolute"},attrs:{lazy:"",src:t.$store.state.webInfo.randomCover[Math.floor(Math.random()*t.$store.state.webInfo.randomCover.length)],fit:"cover"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-image",{staticClass:"my-el-image",staticStyle:{position:"absolute"},attrs:{lazy:"",src:t.$store.state.webInfo.randomCover[Math.floor(Math.random()*t.$store.state.webInfo.randomCover.length)],fit:"cover"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"points-title"},[s("i",{staticClass:"el-icon-coin"}),s("span",[t._v("ÁßØÂàÜ‰ΩìÁ≥ª")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-title"},[s("div",[t._v("Áî®Êà∑ÂêçÔºö")]),s("div",[t._v("ÊâãÊú∫Âè∑Ôºö")]),s("div",[t._v("ÈÇÆÁÆ±Ôºö")]),s("div",[t._v("ÊÄßÂà´Ôºö")]),s("div",[t._v("ÁÆÄ‰ªãÔºö")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stats-title"},[s("i",{staticClass:"el-icon-data-analysis"}),s("span",[t._v("‰∏™‰∫∫Êï∞ÊçÆ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-star-off"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-user-solid"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-document"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-view"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-star-on"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-chat-dot-round"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"articles-title"},[s("i",{staticClass:"el-icon-notebook-2"}),s("span",[t._v("ÊàëÁöÑÊñáÁ´†")])])}],a=s("5530"),o={components:{proButton:(s("d3b7"),s("3ca3"),s("ddb0"),s("4de4"),s("498a"),s("ac1f"),s("00b4"),s("c740"),s("a434"),s("b64b"),s("d81d"),s("7db0"),s("b0c0"),s("99af"),s("a4d3"),s("e01a"),function(){return s.e("chunk-94e299d0").then(s.bind(null,"ff66"))}),uploadPicture:function(){return s.e("chunk-commons~31ecd969").then(s.bind(null,"6034"))}},data:function(){return{currentUser:this.$store.state.currentUser,username:"",account:"",password:"",phoneNumber:"",email:"",avatar:"",showDialog:!1,code:"",dialogTitle:"",codeString:"È™åËØÅÁ†Å",passwordFlag:null,intervalCode:null,userStats:{articleCount:0,viewCount:0,likeCount:0,commentCount:0,collectionCount:0,followingCount:0,followersCount:0},userArticles:[],articlesPage:{current:1,size:5},tempAvatar:"",showFollowDialog:!1,followDialogTitle:"",followDialogType:"",followList:[],followListLoading:!1,showAllBadgesDialog:!1,badgeTabType:"unlocked",allBadges:[],userLevel:{level:1,name:"Êñ∞Êâã‰∏äË∑Ø",icon:"el-icon-user",color:"#909399",nextLevelPoints:100,nextLevelName:"ÂàùÁ∫ß‰ΩúËÄÖ"},levelConfig:[{level:1,name:"Êñ∞Êâã‰∏äË∑Ø",icon:"el-icon-user",color:"#909399",minPoints:0,maxPoints:100},{level:2,name:"ÂàùÁ∫ß‰ΩúËÄÖ",icon:"el-icon-edit",color:"#67C23A",minPoints:100,maxPoints:500},{level:3,name:"‰∏≠Á∫ß‰ΩúËÄÖ",icon:"el-icon-edit-outline",color:"#409EFF",minPoints:500,maxPoints:1500},{level:4,name:"È´òÁ∫ß‰ΩúËÄÖ",icon:"el-icon-notebook-2",color:"#E6A23C",minPoints:1500,maxPoints:5e3},{level:5,name:"‰∏ì‰∏öÂ§ßÁâõ",icon:"el-icon-medal",color:"#F56C6C",minPoints:5e3,maxPoints:15e3},{level:6,name:"È¢ÜÂüü‰∏ìÂÆ∂",icon:"el-icon-trophy",color:"#C71585",minPoints:15e3,maxPoints:5e4},{level:7,name:"‰º†Â•áÂ§ßÂ∏à",icon:"el-icon-star-on",color:"#FFD700",minPoints:5e4,maxPoints:999999}],badgeDefinitions:[{id:1,name:"Êñ∞‰∫∫Êä•ÈÅì",icon:"el-icon-user-solid",color:"#67C23A",description:"ÊàêÂäüÊ≥®ÂÜåË¥¶Âè∑",hint:"ÂÆåÊàêÊ≥®ÂÜåÂç≥ÂèØËé∑Âæó",condition:"register"},{id:2,name:"È¶ñÊ¨°ÂèëÊñá",icon:"el-icon-edit",color:"#409EFF",description:"ÂèëË°®Á¨¨‰∏ÄÁØáÊñáÁ´†",hint:"ÂèëË°®‰∏ÄÁØáÊñáÁ´†",condition:"article_1"},{id:3,name:"Á¨îËÄï‰∏çËæç",icon:"el-icon-document",color:"#409EFF",description:"ÂèëË°®‰∫Ü10ÁØáÊñáÁ´†",hint:"ÂèëË°®ËææÂà∞10ÁØáÊñáÁ´†",condition:"article_10"},{id:4,name:"Â§ö‰∫ß‰ΩúËÄÖ",icon:"el-icon-notebook-2",color:"#E6A23C",description:"ÂèëË°®‰∫Ü50ÁØáÊñáÁ´†",hint:"ÂèëË°®ËææÂà∞50ÁØáÊñáÁ´†",condition:"article_50"},{id:5,name:"‰∫∫Ê∞î‰πãÊòü",icon:"el-icon-star-on",color:"#FFD700",description:"Ëé∑Âæó100‰∏™ÁÇπËµû",hint:"Ëé∑Âæó100‰∏™ÁÇπËµû",condition:"like_100"},{id:6,name:"ËØÑËÆ∫Ëææ‰∫∫",icon:"el-icon-chat-dot-round",color:"#909399",description:"ÂèëË°®100Êù°ËØÑËÆ∫",hint:"ÂèëË°®100Êù°ËØÑËÆ∫",condition:"comment_100"},{id:7,name:"Êî∂ËóèÂÆ∂",icon:"el-icon-star-off",color:"#F56C6C",description:"Êî∂Ëóè50ÁØáÊñáÁ´†",hint:"Êî∂Ëóè50ÁØáÊñáÁ´†",condition:"collect_50"},{id:8,name:"Á§æ‰∫§Ëææ‰∫∫",icon:"el-icon-user",color:"#409EFF",description:"ÂÖ≥Ê≥®50‰ΩçÁî®Êà∑",hint:"ÂÖ≥Ê≥®50‰ΩçÁî®Êà∑",condition:"follow_50"},{id:9,name:"ÂèóÊ¨¢ËøéËÄÖ",icon:"el-icon-user-solid",color:"#67C23A",description:"Ëé∑Âæó100‰ΩçÁ≤â‰∏ù",hint:"Ëé∑Âæó100‰ΩçÁ≤â‰∏ù",condition:"fans_100"},{id:10,name:"ÊåÅ‰πã‰ª•ÊÅí",icon:"el-icon-time",color:"#E6A23C",description:"ËøûÁª≠ÁôªÂΩï30Â§©",hint:"ËøûÁª≠ÁôªÂΩï30Â§©",condition:"login_30"}],showPointsDialog:!1,pointsTabType:"all",todayPoints:0,weekPoints:0,pointsRecords:[],pointRules:[{name:"ÊØèÊó•ÁôªÂΩï",points:5,icon:"el-icon-user",color:"#67C23A",limit:1},{name:"ÂèëË°®ÊñáÁ´†",points:20,icon:"el-icon-edit",color:"#409EFF",limit:5},{name:"ÂèëË°®ËØÑËÆ∫",points:2,icon:"el-icon-chat-dot-round",color:"#E6A23C",limit:20},{name:"ÊñáÁ´†Ë¢´ÁÇπËµû",points:1,icon:"el-icon-star-on",color:"#FFD700",limit:null},{name:"ÊñáÁ´†Ë¢´Êî∂Ëóè",points:3,icon:"el-icon-star-off",color:"#F56C6C",limit:null},{name:"Ëé∑ÂæóÂÖ≥Ê≥®",points:5,icon:"el-icon-user",color:"#409EFF",limit:null},{name:"ÂÆåÂñÑ‰∏™‰∫∫‰ø°ÊÅØ",points:10,icon:"el-icon-edit-outline",color:"#67C23A",limit:1}]}},computed:{levelProgress:function(){var t=this.userStats.totalPoints||0,e=this.userLevel;if(t>=e.nextLevelPoints)return 100;var s=e.nextLevelPoints-(e.minPoints||0),i=t-(e.minPoints||0);return Math.floor(i/s*100)},unlockedBadges:function(){return this.allBadges.filter(function(t){return t.unlocked})},lockedBadges:function(){return this.allBadges.filter(function(t){return!t.unlocked})},incomeRecords:function(){return this.pointsRecords.filter(function(t){return t.points>0})},expenseRecords:function(){return this.pointsRecords.filter(function(t){return t.points<0})}},created:function(){this.$common.isEmpty(this.currentUser)||(this.loadUserStats(),this.loadUserArticles(),this.initializeBadges(),this.calculateUserLevel(),this.loadPointsData())},methods:{handleAvatarUpload:function(t){this.tempAvatar=t},confirmAvatarUpload:function(){this.avatar=this.tempAvatar,this.submitDialog()},addPicture:function(t){this.avatar=t,this.submitDialog()},signUp:function(){document.querySelector("#loginAndRegist").classList.add("right-panel-active")},signIn:function(){document.querySelector("#loginAndRegist").classList.remove("right-panel-active")},login:function(){var t=this;if(this.$common.isEmpty(this.account)||this.$common.isEmpty(this.password))this.$message({message:"ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÊàñÂØÜÁ†ÅÔºÅ",type:"error"});else{var e={account:this.account.trim(),password:this.$common.encrypt(this.password.trim())};this.$http.post(this.$constant.baseURL+"/user/login",e,!1,!1).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),localStorage.setItem("userToken",e.data.accessToken),t.account="",t.password="",t.$router.push({path:"/"}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}},regist:function(){var t=this;if(this.$common.isEmpty(this.username)||this.$common.isEmpty(this.password))this.$message({message:"ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÔºÅ",type:"error"});else{if("ÈÇÆÁÆ±È™åËØÅÁ†Å"===this.dialogTitle&&this.$common.isEmpty(this.email))return this.$message({message:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±ÔºÅ",type:"error"}),!1;if(this.$common.isEmpty(this.code))this.$message({message:"ËØ∑ËæìÂÖ•È™åËØÅÁ†ÅÔºÅ",type:"error"});else if(-1===this.username.indexOf(" ")&&-1===this.password.indexOf(" ")){var e={username:this.username.trim(),code:this.code.trim(),password:this.$common.encrypt(this.password.trim())};"ÈÇÆÁÆ±È™åËØÅÁ†Å"===this.dialogTitle&&(e.email=this.email),this.$http.post(this.$constant.baseURL+"/user/regist",e).then(function(e){if(!t.$common.isEmpty(e.data)){t.$store.commit("loadCurrentUser",e.data),localStorage.setItem("userToken",e.data.accessToken),t.username="",t.password="",t.$router.push({path:"/"});var s=t.$common.encrypt(localStorage.getItem("userToken"));window.open(t.$constant.imBaseURL+"?userToken="+s)}}).catch(function(e){t.$message({message:e.message,type:"error"})})}else this.$message({message:"Áî®Êà∑ÂêçÊàñÂØÜÁ†Å‰∏çËÉΩÂåÖÂê´Á©∫Ê†ºÔºÅ",type:"error"})}},submitUserInfo:function(){var t=this;if(this.checkParameters()){var e={username:this.currentUser.username,gender:this.currentUser.gender};this.$common.isEmpty(this.currentUser.introduction)||(e.introduction=this.currentUser.introduction.trim()),this.$confirm("Á°ÆËÆ§‰øùÂ≠òÔºü","ÊèêÁ§∫",{confirmButtonText:"Á°ÆÂÆö",cancelButtonText:"ÂèñÊ∂à",type:"success",center:!0}).then(function(){t.$http.post(t.$constant.baseURL+"/user/updateUserInfo",e).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),t.currentUser=t.$store.state.currentUser,t.$message({message:"‰øÆÊîπÊàêÂäüÔºÅ",type:"success"}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}).catch(function(){t.$message({type:"success",message:"Â∑≤ÂèñÊ∂à‰øùÂ≠ò!"})})}},checkParams:function(t){return"‰øÆÊîπÊâãÊú∫Âè∑"===this.dialogTitle||"ÁªëÂÆöÊâãÊú∫Âè∑"===this.dialogTitle||"ÊâæÂõûÂØÜÁ†Å"===this.dialogTitle&&1===this.passwordFlag?(t.flag=1,this.$common.isEmpty(this.phoneNumber)?(this.$message({message:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑ÔºÅ",type:"error"}),!1):/^1[345789]\d{9}$/.test(this.phoneNumber)?(t.place=this.phoneNumber,!0):(this.$message({message:"ÊâãÊú∫Âè∑Ê†ºÂºèÊúâËØØÔºÅ",type:"error"}),!1)):("‰øÆÊîπÈÇÆÁÆ±"===this.dialogTitle||"ÁªëÂÆöÈÇÆÁÆ±"===this.dialogTitle||"ÈÇÆÁÆ±È™åËØÅÁ†Å"===this.dialogTitle||"ÊâæÂõûÂØÜÁ†Å"===this.dialogTitle&&2===this.passwordFlag)&&(t.flag=2,this.$common.isEmpty(this.email)?(this.$message({message:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±ÔºÅ",type:"error"}),!1):/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email)?(t.place=this.email,!0):(this.$message({message:"ÈÇÆÁÆ±Ê†ºÂºèÊúâËØØÔºÅ",type:"error"}),!1))},checkParameters:function(){return this.$common.isEmpty(this.currentUser.username)?(this.$message({message:"ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÔºÅ",type:"error"}),!1):-1===this.currentUser.username.indexOf(" ")||(this.$message({message:"Áî®Êà∑Âêç‰∏çËÉΩÂåÖÂê´Á©∫Ê†ºÔºÅ",type:"error"}),!1)},changeDialog:function(t){if("ÈÇÆÁÆ±È™åËØÅÁ†Å"===t){if(this.$common.isEmpty(this.email))return this.$message({message:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±ÔºÅ",type:"error"}),!1;if(!/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(this.email))return this.$message({message:"ÈÇÆÁÆ±Ê†ºÂºèÊúâËØØÔºÅ",type:"error"}),!1}this.dialogTitle=t,this.showDialog=!0},submitDialog:function(){var t=this;if("‰øÆÊîπÂ§¥ÂÉè"===this.dialogTitle)if(this.$common.isEmpty(this.avatar))this.$message({message:"ËØ∑‰∏ä‰º†Â§¥ÂÉèÔºÅ",type:"error"});else{var e={avatar:this.avatar.trim()};this.$http.post(this.$constant.baseURL+"/user/updateUserInfo",e).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),t.currentUser=t.$store.state.currentUser,t.clearDialog(),t.$message({message:"‰øÆÊîπÊàêÂäüÔºÅ",type:"success"}))}).catch(function(e){t.$message({message:e.message,type:"error"})})}else"‰øÆÊîπÊâãÊú∫Âè∑"===this.dialogTitle||"ÁªëÂÆöÊâãÊú∫Âè∑"===this.dialogTitle||"‰øÆÊîπÈÇÆÁÆ±"===this.dialogTitle||"ÁªëÂÆöÈÇÆÁÆ±"===this.dialogTitle?this.updateSecretInfo():"ÊâæÂõûÂØÜÁ†Å"===this.dialogTitle?1!==this.passwordFlag&&2!==this.passwordFlag?this.$message({message:"ËØ∑ÈÄâÊã©ÊâæÂõûÊñπÂºèÔºÅ",type:"error"}):this.updateSecretInfo():"ÈÇÆÁÆ±È™åËØÅÁ†Å"===this.dialogTitle&&(this.showDialog=!1)},updateSecretInfo:function(){var t=this;if(this.$common.isEmpty(this.code))this.$message({message:"ËØ∑ËæìÂÖ•È™åËØÅÁ†ÅÔºÅ",type:"error"});else if(this.$common.isEmpty(this.password))this.$message({message:"ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÔºÅ",type:"error"});else{var e={code:this.code.trim(),password:this.$common.encrypt(this.password.trim())};this.checkParams(e)&&("ÊâæÂõûÂØÜÁ†Å"===this.dialogTitle?this.$http.post(this.$constant.baseURL+"/user/updateForForgetPassword",e,!1,!1).then(function(e){t.clearDialog(),t.$message({message:"‰øÆÊîπÊàêÂäüÔºåËØ∑ÈáçÊñ∞ÁôªÈôÜÔºÅ",type:"success"})}).catch(function(e){t.$message({message:e.message,type:"error"})}):this.$http.post(this.$constant.baseURL+"/user/updateSecretInfo",e,!1,!1).then(function(e){t.$common.isEmpty(e.data)||(t.$store.commit("loadCurrentUser",e.data),t.currentUser=t.$store.state.currentUser,t.clearDialog(),t.$message({message:"‰øÆÊîπÊàêÂäüÔºÅ",type:"success"}))}).catch(function(e){t.$message({message:e.message,type:"error"})}))}},getCode:function(){var t=this;if("È™åËØÅÁ†Å"===this.codeString){var e,s={};if(!this.checkParams(s))return;e="ÊâæÂõûÂØÜÁ†Å"===this.dialogTitle||"ÈÇÆÁÆ±È™åËØÅÁ†Å"===this.dialogTitle?"/user/getCodeForForgetPassword":"/user/getCodeForBind",this.$http.get(this.$constant.baseURL+e,s).then(function(e){t.$message({message:"È™åËØÅÁ†ÅÂ∑≤ÂèëÈÄÅÔºåËØ∑Ê≥®ÊÑèÊü•Êî∂ÔºÅ",type:"success"})}).catch(function(e){t.$message({message:e.message,type:"error"})}),this.codeString="30",this.intervalCode=setInterval(function(){"0"===t.codeString?(clearInterval(t.intervalCode),t.codeString="È™åËØÅÁ†Å"):t.codeString=parseInt(t.codeString)-1+""},1e3)}else this.$message({message:"ËØ∑Á®çÂêéÂÜçËØïÔºÅ",type:"warning"})},clearDialog:function(){this.password="",this.phoneNumber="",this.email="",this.avatar="",this.tempAvatar="",this.showDialog=!1,this.code="",this.dialogTitle="",this.passwordFlag=null},loadUserStats:function(){var t=this;this.$http.get(this.$constant.baseURL+"/user/getUserStats",{userId:this.currentUser.id}).then(function(e){e&&e.data&&(t.userStats=e.data)}).catch(function(t){})},loadUserArticles:function(){var t=this,e={current:this.articlesPage.current,size:this.articlesPage.size,userId:this.currentUser.id,viewStatus:!0};this.$http.post(this.$constant.baseURL+"/article/listArticle",e).then(function(e){e&&e.data&&e.data.records&&(t.userArticles=e.data.records)}).catch(function(t){})},goToArticle:function(t){this.$router.push({path:"/article/".concat(t)})},goToMyCollections:function(){this.$router.push({path:"/collection"})},showFollowingList:function(){this.followDialogTitle="ÊàëÁöÑÂÖ≥Ê≥®",this.followDialogType="following",this.showFollowDialog=!0,this.loadFollowList("following")},showFollowersList:function(){this.followDialogTitle="ÊàëÁöÑÁ≤â‰∏ù",this.followDialogType="followers",this.showFollowDialog=!0,this.loadFollowList("followers")},loadFollowList:function(t){var e=this;this.followListLoading=!0,this.followList=[];var s="following"===t?"/user/getFollowingList":"/user/getFollowersList";this.$http.get(this.$constant.baseURL+s,{userId:this.currentUser.id}).then(function(t){t&&t.data&&(e.followList=t.data)}).catch(function(s){e.followList=e.getMockFollowList(t)}).finally(function(){e.followListLoading=!1})},getMockFollowList:function(t){return[]},toggleFollow:function(t){t.isFollowing?this.unfollowUser(t):this.followUser(t)},followUser:function(t){var e=this;this.$http.post(this.$constant.baseURL+"/user/follow",{followUserId:t.id}).then(function(s){e.$message({type:"success",message:"ÂÖ≥Ê≥®ÊàêÂäüÔºÅ"}),t.isFollowing=!0,e.userStats.followingCount++,e.loadUserStats()}).catch(function(s){e.$message({type:"success",message:"ÂÖ≥Ê≥®ÊàêÂäüÔºÅÔºàÂâçÁ´ØÊ®°ÊãüÔºâ"}),t.isFollowing=!0,e.userStats.followingCount++})},unfollowUser:function(t){var e=this;this.$confirm("Á°ÆÂÆöË¶ÅÂèñÊ∂àÂÖ≥Ê≥®ÂêóÔºü","ÊèêÁ§∫",{confirmButtonText:"Á°ÆÂÆö",cancelButtonText:"ÂèñÊ∂à",type:"warning"}).then(function(){e.$http.post(e.$constant.baseURL+"/user/unfollow",{followUserId:t.id}).then(function(s){if(e.$message({type:"success",message:"Â∑≤ÂèñÊ∂àÂÖ≥Ê≥®ÔºÅ"}),t.isFollowing=!1,e.userStats.followingCount--,"following"===e.followDialogType){var i=e.followList.findIndex(function(e){return e.id===t.id});i>-1&&e.followList.splice(i,1)}e.loadUserStats()}).catch(function(s){if(e.$message({type:"success",message:"Â∑≤ÂèñÊ∂àÂÖ≥Ê≥®ÔºÅÔºàÂâçÁ´ØÊ®°ÊãüÔºâ"}),t.isFollowing=!1,e.userStats.followingCount--,"following"===e.followDialogType){var i=e.followList.findIndex(function(e){return e.id===t.id});i>-1&&e.followList.splice(i,1)}})}).catch(function(){e.$message({type:"info",message:"Â∑≤ÂèñÊ∂àÊìç‰Ωú"})})},initializeBadges:function(){var t=this;this.userStats&&Object.keys(this.userStats).length,this.$http.get(this.$constant.baseURL+"/user/getUserBadges",{userId:this.currentUser.id}).then(function(e){var s=e.data||[];t.allBadges=t.badgeDefinitions.map(function(t){var e=s.find(function(e){return e.badgeId===t.id});return Object(a.a)(Object(a.a)({},t),{},{unlocked:!!e,unlockTime:e?e.unlockTime:null})})}).catch(function(e){t.simulateBadges()})},simulateBadges:function(){var t=this.userStats||{};this.allBadges=this.badgeDefinitions.map(function(e){var s=!1;switch(e.condition){case"register":s=!0;break;case"article_1":s=(t.articleCount||0)>=1;break;case"article_10":s=(t.articleCount||0)>=10;break;case"article_50":s=(t.articleCount||0)>=50;break;case"like_100":s=(t.likeCount||0)>=100;break;case"comment_100":s=(t.commentCount||0)>=100;break;case"collect_50":s=(t.collectionCount||0)>=50;break;case"follow_50":s=(t.followingCount||0)>=50;break;case"fans_100":s=(t.followersCount||0)>=100;break;case"login_30":s=!1}return Object(a.a)(Object(a.a)({},e),{},{unlocked:s,unlockTime:s?(new Date).toISOString():null})})},calculateUserLevel:function(){for(var t=this.userStats.totalPoints||0,e=this.levelConfig[0],s=this.levelConfig.length-1;s>=0;s--)if(t>=this.levelConfig[s].minPoints){e=this.levelConfig[s];break}var i=this.levelConfig.find(function(e){return e.minPoints>t});this.userLevel=Object(a.a)(Object(a.a)({},e),{},{minPoints:e.minPoints,nextLevelPoints:i?i.minPoints:e.maxPoints,nextLevelName:i?i.name:"Êª°Á∫ß"})},showBadgeDetail:function(t){this.$alert('<div style="text-align: center;">\n          <i class="'.concat(t.icon,'" style="font-size: 64px; color: ').concat(t.color,'; margin-bottom: 15px;"></i>\n          <h3 style="margin: 10px 0;">').concat(t.name,'</h3>\n          <p style="color: #606266; margin: 10px 0;">').concat(t.description,'</p>\n          <p style="color: #909399; font-size: 14px;">Ëß£ÈîÅÊó∂Èó¥Ôºö').concat(this.formatDate(t.unlockTime),"</p>\n        </div>"),"ÂæΩÁ´†ËØ¶ÊÉÖ",{dangerouslyUseHTMLString:!0,confirmButtonText:"ÂÖ≥Èó≠"})},formatDate:function(t){return t?new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"Êú™Áü•"},loadPointsData:function(){var t=this;this.$http.get(this.$constant.baseURL+"/user/getPointsRecords",{userId:this.currentUser.id}).then(function(e){e&&e.data&&(t.pointsRecords=e.data.records||[],t.todayPoints=e.data.todayPoints||0,t.weekPoints=e.data.weekPoints||0)}).catch(function(e){t.simulatePointsData()})},simulatePointsData:function(){var t=new Date,e=[{title:"ÊØèÊó•ÁôªÂΩïÂ•ñÂä±",points:5,icon:"el-icon-user",color:"#67C23A",createTime:new Date(t.getTime()-18e5).toISOString()},{title:"ÂèëË°®ÊñáÁ´†„ÄäVueÂºÄÂèëÂÆûË∑µ„Äã",points:20,icon:"el-icon-edit",color:"#409EFF",createTime:new Date(t.getTime()-72e5).toISOString()},{title:"ÂèëË°®ËØÑËÆ∫",points:2,icon:"el-icon-chat-dot-round",color:"#E6A23C",createTime:new Date(t.getTime()-18e6).toISOString()},{title:"ÊñáÁ´†Ë¢´ÁÇπËµû",points:1,icon:"el-icon-star-on",color:"#FFD700",createTime:new Date(t.getTime()-864e5).toISOString()},{title:"ÊñáÁ´†Ë¢´Êî∂Ëóè",points:3,icon:"el-icon-star-off",color:"#F56C6C",createTime:new Date(t.getTime()-1728e5).toISOString()},{title:"Ëé∑ÂæóÁ≤â‰∏ùÂÖ≥Ê≥®",points:5,icon:"el-icon-user",color:"#409EFF",createTime:new Date(t.getTime()-2592e5).toISOString()}];this.pointsRecords=e;var s=new Date;s.setHours(0,0,0,0);var i=new Date(s);i.setDate(s.getDate()-s.getDay()),this.todayPoints=e.filter(function(t){return new Date(t.createTime)>=s}).reduce(function(t,e){return t+e.points},0),this.weekPoints=e.filter(function(t){return new Date(t.createTime)>=i}).reduce(function(t,e){return t+e.points},0)},formatRecordTime:function(t){if(!t)return"";var e=new Date(t),s=new Date-e;return s<6e4?"ÂàöÂàö":s<36e5?Math.floor(s/6e4)+"ÂàÜÈíüÂâç":s<864e5?Math.floor(s/36e5)+"Â∞èÊó∂Ââç":s<6048e5?Math.floor(s/864e5)+"Â§©Ââç":e.toLocaleString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})},handleBadgeDialogOpen:function(){},handleBadgeDialogClose:function(){},handlePointsDialogOpen:function(){},handlePointsDialogClose:function(){}}},n=o,l=(s("774e"),s("8061"),s("2877")),r=Object(l.a)(n,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.$common.isEmpty(t.currentUser)?s("div",{staticClass:"myCenter in-up-container my-animation-hideToShow"},[t._m(0),s("div",{staticClass:"in-up",attrs:{id:"loginAndRegist"}},[s("div",{staticClass:"form-container sign-up-container"},[s("div",{staticClass:"myCenter"},[s("h1",[t._v("Ê≥®ÂÜå")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",maxlength:"30",placeholder:"Áî®Êà∑Âêç"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",maxlength:"30",placeholder:"ÂØÜÁ†Å"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"ÈÇÆÁÆ±"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"È™åËØÅÁ†Å",disabled:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),s("a",{staticStyle:{margin:"0"},attrs:{href:"#"},on:{click:function(e){return t.changeDialog("ÈÇÆÁÆ±È™åËØÅÁ†Å")}}},[t._v("Ëé∑ÂèñÈ™åËØÅÁ†Å")]),s("button",{on:{click:function(e){return t.regist()}}},[t._v("Ê≥®ÂÜå")])])]),s("div",{staticClass:"form-container sign-in-container"},[s("div",{staticClass:"myCenter"},[s("h1",[t._v("ÁôªÂΩï")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"Áî®Êà∑Âêç/ÈÇÆÁÆ±/ÊâãÊú∫Âè∑"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"ÂØÜÁ†Å"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeDialog("ÊâæÂõûÂØÜÁ†Å")}}},[t._v("ÂøòËÆ∞ÂØÜÁ†ÅÔºü")]),s("button",{on:{click:function(e){return t.login()}}},[t._v("ÁôªÂΩï")])])]),s("div",{staticClass:"overlay-container"},[s("div",{staticClass:"overlay"},[s("div",{staticClass:"overlay-panel myCenter overlay-left"},[s("h1",[t._v("Â∑≤ÊúâÂ∏êÂè∑Ôºü")]),s("p",[t._v("ËØ∑ÁôªÂΩïüöÄ")]),s("button",{staticClass:"ghost",on:{click:function(e){return t.signIn()}}},[t._v("ÁôªÂΩï")])]),s("div",{staticClass:"overlay-panel myCenter overlay-right"},[s("h1",[t._v("Ê≤°ÊúâÂ∏êÂè∑Ôºü")]),s("p",[t._v("Á´ãÂç≥Ê≥®ÂÜåÂêßüòÉ")]),s("button",{staticClass:"ghost",on:{click:function(e){return t.signUp()}}},[t._v("Ê≥®ÂÜå")])])])])])],1):s("div",{staticClass:"user-container myCenter my-animation-hideToShow"},[t._m(1),s("div",{staticClass:"shadow-box-mini user-info",staticStyle:{display:"flex"}},[s("div",{staticClass:"user-left"},[s("div",{staticClass:"avatar-container"},[s("el-avatar",{staticClass:"user-avatar",attrs:{size:80,src:t.currentUser.avatar}}),s("div",{staticClass:"avatar-overlay",on:{click:function(e){return t.changeDialog("‰øÆÊîπÂ§¥ÂÉè")}}},[s("i",{staticClass:"el-icon-camera"}),s("span",[t._v("Êõ¥Êç¢Â§¥ÂÉè")])]),s("div",{staticClass:"user-level-badge",class:"level-"+t.userLevel.level},[s("i",{class:t.userLevel.icon}),s("span",[t._v(t._s(t.userLevel.name))])])],1),s("div",{staticClass:"user-level-info"},[s("div",{staticClass:"level-title"},[s("span",[t._v("ÂΩìÂâçÁ≠âÁ∫ßÔºö")]),s("span",{staticClass:"level-name"},[t._v(t._s(t.userLevel.name))])]),s("div",{staticClass:"level-progress"},[s("el-progress",{attrs:{percentage:t.levelProgress,color:t.userLevel.color,"stroke-width":8}}),s("div",{staticClass:"progress-text"},[t._v(" "+t._s(t.userStats.totalPoints||0)+" / "+t._s(t.userLevel.nextLevelPoints)+" ÁßØÂàÜ ")])],1),s("div",{staticClass:"next-level-tip"},[t._v(" Ë∑ùÁ¶ª‰∏ã‰∏ÄÁ∫ß "),s("strong",[t._v(t._s(t.userLevel.nextLevelName))]),t._v(" ËøòÂ∑Æ "+t._s(t.userLevel.nextLevelPoints-(t.userStats.totalPoints||0))+" ÁßØÂàÜ ")])]),s("div",{staticClass:"user-badges"},[s("div",{staticClass:"badges-title"},[s("i",{staticClass:"el-icon-trophy"}),s("span",[t._v("ÊàêÂ∞±ÂæΩÁ´† ("+t._s(t.unlockedBadges.length)+"/"+t._s(t.allBadges.length)+")")])]),s("div",{staticClass:"badges-grid"},t._l(t.allBadges,function(e){return s("el-tooltip",{key:e.id,attrs:{content:e.unlocked?e.description:"Êú™Ëß£ÈîÅ",placement:"top"}},[s("div",{class:["badge-item",{unlocked:e.unlocked,locked:!e.unlocked}],on:{click:function(s){e.unlocked&&t.showBadgeDetail(e)}}},[s("i",{class:e.icon,style:{color:e.unlocked?e.color:"#ccc"}}),s("div",{staticClass:"badge-name"},[t._v(t._s(e.name))])])])}),1),s("div",{staticClass:"view-all-badges",on:{click:function(e){t.showAllBadgesDialog=!0}}},[t._v(" Êü•ÁúãÂÖ®ÈÉ®ÂæΩÁ´† "),s("i",{staticClass:"el-icon-arrow-right"})])]),s("div",{staticClass:"points-system"},[s("div",{staticClass:"points-header"},[t._m(2),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.showPointsDialog=!0}}},[t._v(" Êü•ÁúãÊòéÁªÜ "),s("i",{staticClass:"el-icon-arrow-right"})])],1),s("div",{staticClass:"points-total"},[s("div",{staticClass:"total-points"},[s("div",{staticClass:"points-number"},[t._v(t._s(t.userStats.totalPoints||0))]),s("div",{staticClass:"points-label"},[t._v("ÊÄªÁßØÂàÜ")])]),s("div",{staticClass:"points-trend"},[s("div",{staticClass:"trend-item"},[s("span",{staticClass:"trend-label"},[t._v("‰ªäÊó•Ëé∑ÂæóÔºö")]),s("span",{staticClass:"trend-value green"},[t._v("+"+t._s(t.todayPoints))])]),s("div",{staticClass:"trend-item"},[s("span",{staticClass:"trend-label"},[t._v("Êú¨Âë®Ëé∑ÂæóÔºö")]),s("span",{staticClass:"trend-value green"},[t._v("+"+t._s(t.weekPoints))])])])]),s("div",{staticClass:"points-rules"},[s("div",{staticClass:"rules-title"},[t._v("üéØ Ëé∑ÂèñÁßØÂàÜÊñπÂºè")]),s("div",{staticClass:"rules-list"},t._l(t.pointRules,function(e,i){return s("div",{key:i,staticClass:"rule-item"},[s("i",{class:e.icon,style:{color:e.color}}),s("div",{staticClass:"rule-content"},[s("span",{staticClass:"rule-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"rule-points"},[t._v("+"+t._s(e.points))])]),e.limit?s("div",{staticClass:"rule-limit"},[t._v("ÊØèÊó•‰∏äÈôê"+t._s(e.limit)+"Ê¨°")]):t._e()])}),0)])]),s("div",{staticClass:"myCenter",staticStyle:{"margin-top":"12px"}},[t._m(3),s("div",{staticClass:"user-content"},[s("div",[s("el-input",{attrs:{maxlength:"30"},model:{value:t.currentUser.username,callback:function(e){t.$set(t.currentUser,"username",e)},expression:"currentUser.username"}})],1),s("div",[t.$common.isEmpty(t.currentUser.phoneNumber)?s("div",[s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("ÁªëÂÆöÊâãÊú∫Âè∑")}}},[t._v("ÁªëÂÆöÊâãÊú∫Âè∑ÔºàÂäüËÉΩÊú™Êé•ÂÖ•Ôºâ")])]):s("div",[t._v(" "+t._s(t.currentUser.phoneNumber)+" "),s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("‰øÆÊîπÊâãÊú∫Âè∑")}}},[t._v("‰øÆÊîπÔºàÂäüËÉΩÊú™Êé•ÂÖ•Ôºâ")])])]),s("div",[t.$common.isEmpty(t.currentUser.email)?s("div",[s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("ÁªëÂÆöÈÇÆÁÆ±")}}},[t._v("ÁªëÂÆöÈÇÆÁÆ±")])]):s("div",[t._v(" "+t._s(t.currentUser.email)+" "),s("span",{staticClass:"changeInfo",on:{click:function(e){return t.changeDialog("‰øÆÊîπÈÇÆÁÆ±")}}},[t._v("‰øÆÊîπ")])])]),s("div",[s("el-radio-group",{model:{value:t.currentUser.gender,callback:function(e){t.$set(t.currentUser,"gender",e)},expression:"currentUser.gender"}},[s("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:0}},[t._v("ËñõÂÆöË∞îÁöÑÁå´")]),s("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:1}},[t._v("Áî∑")]),s("el-radio",{attrs:{label:2}},[t._v("Â•≥")])],1)],1),s("div",[s("el-input",{attrs:{maxlength:"60",type:"textarea","show-word-limit":""},model:{value:t.currentUser.introduction,callback:function(e){t.$set(t.currentUser,"introduction",e)},expression:"currentUser.introduction"}})],1)])]),s("div",{staticStyle:{"margin-top":"20px"}},[s("proButton",{attrs:{info:"Êèê‰∫§",before:t.$constant.before_color_2,after:t.$constant.after_color_2},nativeOn:{click:function(e){return t.submitUserInfo()}}})],1)]),s("div",{staticClass:"user-right"},[s("div",{staticClass:"user-stats-container"},[t._m(4),s("div",{staticClass:"stats-grid"},[s("div",{staticClass:"stat-card",on:{click:t.goToMyCollections}},[t._m(5),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.collectionCount||0))]),s("div",{staticClass:"stat-label"},[t._v("ÊàëÁöÑÊî∂Ëóè")])])]),s("div",{staticClass:"stat-card",on:{click:t.showFollowingList}},[t._m(6),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.followingCount||0))]),s("div",{staticClass:"stat-label"},[t._v("ÂÖ≥Ê≥®")])])]),s("div",{staticClass:"stat-card",on:{click:t.showFollowersList}},[t._m(7),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.followersCount||0))]),s("div",{staticClass:"stat-label"},[t._v("Á≤â‰∏ù")])])]),s("div",{staticClass:"stat-card"},[t._m(8),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.articleCount||0))]),s("div",{staticClass:"stat-label"},[t._v("ÊñáÁ´†Êï∞")])])]),s("div",{staticClass:"stat-card"},[t._m(9),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.viewCount||0))]),s("div",{staticClass:"stat-label"},[t._v("ÈòÖËØªÈáè")])])]),s("div",{staticClass:"stat-card"},[t._m(10),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.likeCount||0))]),s("div",{staticClass:"stat-label"},[t._v("Ëé∑ËµûÊï∞")])])]),s("div",{staticClass:"stat-card"},[t._m(11),s("div",{staticClass:"stat-content"},[s("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats.commentCount||0))]),s("div",{staticClass:"stat-label"},[t._v("ËØÑËÆ∫Êï∞")])])])])]),s("div",{staticClass:"user-articles-container"},[t._m(12),t.userArticles.length>0?s("div",{staticClass:"articles-list"},t._l(t.userArticles,function(e){return s("div",{key:e.id,staticClass:"article-item",on:{click:function(s){return t.goToArticle(e.id)}}},[s("div",{staticClass:"article-info"},[s("div",{staticClass:"article-title"},[t._v(t._s(e.articleTitle))]),s("div",{staticClass:"article-meta"},[s("span",[s("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(e.viewCount))]),s("span",[s("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(e.likeCount))]),s("span",[s("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.$common.getDateDiff(e.createTime)))])])])])}),0):s("div",{staticClass:"no-articles"},[s("i",{staticClass:"el-icon-document-delete"}),s("p",[t._v("ËøòÊ≤°ÊúâÂèëË°®ÊñáÁ´†Âô¢~")])])])])])],1),s("el-dialog",{attrs:{title:t.dialogTitle,visible:t.showDialog,width:"30%","before-close":t.clearDialog,"append-to-body":!0,"close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.showDialog=e}}},[s("div",{staticClass:"myCenter",staticStyle:{"flex-direction":"column"}},[s("div",["‰øÆÊîπÊâãÊú∫Âè∑"===t.dialogTitle||"ÁªëÂÆöÊâãÊú∫Âè∑"===t.dialogTitle?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("ÊâãÊú∫Âè∑Ôºö")]),s("el-input",{model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("È™åËØÅÁ†ÅÔºö")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("ÂØÜÁ†ÅÔºö")]),s("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):"‰øÆÊîπÈÇÆÁÆ±"===t.dialogTitle||"ÁªëÂÆöÈÇÆÁÆ±"===t.dialogTitle?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("ÈÇÆÁÆ±Ôºö")]),s("el-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("È™åËØÅÁ†ÅÔºö")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("ÂØÜÁ†ÅÔºö")]),s("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):"‰øÆÊîπÂ§¥ÂÉè"===t.dialogTitle?s("div",[s("div",{staticClass:"avatar-upload-container"},[t.tempAvatar?s("div",{staticClass:"avatar-preview-container"},[s("div",{staticClass:"preview-title"},[s("i",{staticClass:"el-icon-picture"}),s("span",[t._v("Â§¥ÂÉèÈ¢ÑËßà")])]),s("div",{staticClass:"preview-image-wrapper"},[s("img",{staticClass:"preview-image",attrs:{src:t.tempAvatar}})]),s("div",{staticClass:"preview-actions"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.tempAvatar=""}}},[s("i",{staticClass:"el-icon-refresh-left"}),t._v(" ÈáçÊñ∞‰∏ä‰º† ")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirmAvatarUpload}},[s("i",{staticClass:"el-icon-check"}),t._v(" Á°ÆËÆ§‰ΩøÁî® ")])],1)]):s("div",{staticClass:"upload-area"},[s("uploadPicture",{attrs:{prefix:"userAvatar",maxSize:2,maxNumber:1},on:{addPicture:t.handleAvatarUpload}}),s("div",{staticClass:"upload-tips"},[s("p",[s("i",{staticClass:"el-icon-info"}),t._v(" ÊîØÊåÅ JPG„ÄÅPNG Ê†ºÂºè")]),s("p",[s("i",{staticClass:"el-icon-info"}),t._v(" Êñá‰ª∂Â§ßÂ∞è‰∏çË∂ÖËøá 2MB")]),s("p",[s("i",{staticClass:"el-icon-info"}),t._v(" Âª∫ËÆÆ‰∏ä‰º†Ê≠£ÊñπÂΩ¢ÂõæÁâá")])])],1)])]):"ÊâæÂõûÂØÜÁ†Å"===t.dialogTitle?s("div",[s("div",{staticClass:"myCenter",staticStyle:{"margin-bottom":"12px"}},[s("el-radio-group",{model:{value:t.passwordFlag,callback:function(e){t.passwordFlag=e},expression:"passwordFlag"}},[s("el-radio",{staticStyle:{"margin-right":"10px"},attrs:{label:1}},[t._v("ÊâãÊú∫Âè∑")]),s("el-radio",{attrs:{label:2}},[t._v("ÈÇÆÁÆ±")])],1)],1),1===t.passwordFlag?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("ÊâãÊú∫Âè∑Ôºö")]),s("el-input",{model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("È™åËØÅÁ†ÅÔºö")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("Êñ∞ÂØÜÁ†ÅÔºö")]),s("el-input",{attrs:{maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):2===t.passwordFlag?s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("ÈÇÆÁÆ±Ôºö")]),s("el-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("È™åËØÅÁ†ÅÔºö")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("Êñ∞ÂØÜÁ†ÅÔºö")]),s("el-input",{attrs:{maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):t._e()]):"ÈÇÆÁÆ±È™åËØÅÁ†Å"===t.dialogTitle?s("div",[s("div",[s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("ÈÇÆÁÆ±Ôºö")]),s("el-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",{staticStyle:{"margin-top":"10px","margin-bottom":"5px"}},[t._v("È™åËØÅÁ†ÅÔºö")]),s("el-input",{model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)]):t._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:"‰øÆÊîπÂ§¥ÂÉè"!==t.dialogTitle,expression:"dialogTitle !== '‰øÆÊîπÂ§¥ÂÉè'"}],staticStyle:{display:"flex","margin-top":"30px"}},[s("proButton",{directives:[{name:"show",rawName:"v-show",value:"‰øÆÊîπÊâãÊú∫Âè∑"===t.dialogTitle||"ÁªëÂÆöÊâãÊú∫Âè∑"===t.dialogTitle||"‰øÆÊîπÈÇÆÁÆ±"===t.dialogTitle||"ÁªëÂÆöÈÇÆÁÆ±"===t.dialogTitle||"ÊâæÂõûÂØÜÁ†Å"===t.dialogTitle||"ÈÇÆÁÆ±È™åËØÅÁ†Å"===t.dialogTitle,expression:"dialogTitle === '‰øÆÊîπÊâãÊú∫Âè∑' || dialogTitle === 'ÁªëÂÆöÊâãÊú∫Âè∑' || dialogTitle === '‰øÆÊîπÈÇÆÁÆ±' || dialogTitle === 'ÁªëÂÆöÈÇÆÁÆ±' || dialogTitle === 'ÊâæÂõûÂØÜÁ†Å' || dialogTitle === 'ÈÇÆÁÆ±È™åËØÅÁ†Å'"}],staticStyle:{"margin-right":"20px"},attrs:{info:t.codeString,before:t.$constant.before_color_1,after:t.$constant.after_color_1},nativeOn:{click:function(e){return t.getCode()}}}),s("proButton",{attrs:{info:"Êèê‰∫§",before:t.$constant.before_color_2,after:t.$constant.after_color_2},nativeOn:{click:function(e){return t.submitDialog()}}})],1)])]),s("el-dialog",{attrs:{title:t.followDialogTitle,visible:t.showFollowDialog,width:"500px"},on:{"update:visible":function(e){t.showFollowDialog=e}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.followListLoading,expression:"followListLoading"}],staticClass:"follow-list-container"},[t.followList.length>0?s("div",{staticClass:"follow-list"},t._l(t.followList,function(e){return s("div",{key:e.id,staticClass:"follow-user-item"},[s("div",{staticClass:"follow-user-info"},[s("el-avatar",{attrs:{size:50,src:e.avatar}}),s("div",{staticClass:"follow-user-details"},[s("div",{staticClass:"follow-username"},[t._v(t._s(e.username))]),s("div",{staticClass:"follow-intro"},[t._v(t._s(e.introduction||"ÊöÇÊó†ÁÆÄ‰ªã"))])])],1),s("div",{staticClass:"follow-actions"},["following"===t.followDialogType?s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(s){return t.unfollowUser(e)}}},[t._v(" ÂèñÊ∂àÂÖ≥Ê≥® ")]):s("el-button",{attrs:{size:"small",type:e.isFollowing?"info":"primary"},on:{click:function(s){return t.toggleFollow(e)}}},[t._v(" "+t._s(e.isFollowing?"‰∫íÁõ∏ÂÖ≥Ê≥®":"ÂÖ≥Ê≥®")+" ")])],1)])}),0):s("div",{staticClass:"no-follow-data"},[s("i",{staticClass:"el-icon-user"}),s("p",[t._v(t._s("following"===t.followDialogType?"ËøòÊ≤°ÊúâÂÖ≥Ê≥®‰ªª‰Ωï‰∫∫Âì¶~":"ËøòÊ≤°ÊúâÁ≤â‰∏ùÂì¶~"))])])])]),s("el-dialog",{attrs:{title:"ÊàêÂ∞±ÂæΩÁ´†",visible:t.showAllBadgesDialog,width:"700px","custom-class":"badges-dialog"},on:{"update:visible":function(e){t.showAllBadgesDialog=e},open:t.handleBadgeDialogOpen,close:t.handleBadgeDialogClose}},[t.allBadges&&t.allBadges.length>0?s("div",{staticClass:"all-badges-container"},[s("el-tabs",{model:{value:t.badgeTabType,callback:function(e){t.badgeTabType=e},expression:"badgeTabType"}},[s("el-tab-pane",{attrs:{label:"Â∑≤Ëß£ÈîÅ",name:"unlocked"}},[s("div",{staticClass:"badges-list"},t._l(t.unlockedBadges,function(e){return s("div",{key:e.id,staticClass:"badge-detail-item"},[s("div",{staticClass:"badge-icon-large"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"badge-info"},[s("div",{staticClass:"badge-detail-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"badge-description"},[t._v(t._s(e.description))]),s("div",{staticClass:"badge-unlock-time"},[s("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.formatDate(e.unlockTime))+" ")])])])}),0)]),s("el-tab-pane",{attrs:{label:"Êú™Ëß£ÈîÅ",name:"locked"}},[s("div",{staticClass:"badges-list"},t._l(t.lockedBadges,function(e){return s("div",{key:e.id,staticClass:"badge-detail-item locked-item"},[s("div",{staticClass:"badge-icon-large"},[s("i",{class:e.icon,staticStyle:{color:"#ccc"}})]),s("div",{staticClass:"badge-info"},[s("div",{staticClass:"badge-detail-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"badge-description"},[t._v(t._s(e.description))]),s("div",{staticClass:"badge-hint"},[t._v(t._s(e.hint))])])])}),0)])],1)],1):s("div",{staticClass:"no-badges"},[s("p",[t._v("ÊöÇÊó†ÂæΩÁ´†Êï∞ÊçÆ")])])]),s("el-dialog",{attrs:{title:"üí∞ ÁßØÂàÜÊòéÁªÜ",visible:t.showPointsDialog,width:"700px"},on:{"update:visible":function(e){t.showPointsDialog=e},open:t.handlePointsDialogOpen,close:t.handlePointsDialogClose}},[s("div",{staticClass:"points-detail-container"},[s("div",{staticClass:"points-overview"},[s("div",{staticClass:"overview-item"},[s("div",{staticClass:"overview-label"},[t._v("ÊÄªÁßØÂàÜ")]),s("div",{staticClass:"overview-value",staticStyle:{color:"#409EFF"}},[t._v(t._s(t.userStats.totalPoints||0))])]),s("div",{staticClass:"overview-item"},[s("div",{staticClass:"overview-label"},[t._v("‰ªäÊó•Ëé∑Âæó")]),s("div",{staticClass:"overview-value",staticStyle:{color:"#67C23A"}},[t._v("+"+t._s(t.todayPoints))])]),s("div",{staticClass:"overview-item"},[s("div",{staticClass:"overview-label"},[t._v("Êú¨Âë®Ëé∑Âæó")]),s("div",{staticClass:"overview-value",staticStyle:{color:"#E6A23C"}},[t._v("+"+t._s(t.weekPoints))])])]),s("div",{staticClass:"points-records"},[s("el-tabs",{model:{value:t.pointsTabType,callback:function(e){t.pointsTabType=e},expression:"pointsTabType"}},[s("el-tab-pane",{attrs:{label:"ÂÖ®ÈÉ®ËÆ∞ÂΩï",name:"all"}},[s("div",{staticClass:"records-list"},[t._l(t.pointsRecords,function(e,i){return s("div",{key:i,staticClass:"record-item"},[s("div",{staticClass:"record-icon"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"record-content"},[s("div",{staticClass:"record-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"record-time"},[t._v(t._s(t.formatRecordTime(e.createTime)))])]),s("div",{class:["record-points",e.points>0?"positive":"negative"]},[t._v(" "+t._s(e.points>0?"+":"")+t._s(e.points)+" ")])])}),0===t.pointsRecords.length?s("div",{staticClass:"no-records"},[s("i",{staticClass:"el-icon-document"}),s("p",[t._v("ÊöÇÊó†ÁßØÂàÜËÆ∞ÂΩï")])]):t._e()],2)]),s("el-tab-pane",{attrs:{label:"Êî∂ÂÖ•",name:"income"}},[s("div",{staticClass:"records-list"},t._l(t.incomeRecords,function(e,i){return s("div",{key:i,staticClass:"record-item"},[s("div",{staticClass:"record-icon"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"record-content"},[s("div",{staticClass:"record-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"record-time"},[t._v(t._s(t.formatRecordTime(e.createTime)))])]),s("div",{staticClass:"record-points positive"},[t._v("+"+t._s(e.points))])])}),0)]),s("el-tab-pane",{attrs:{label:"ÊîØÂá∫",name:"expense"}},[s("div",{staticClass:"records-list"},t._l(t.expenseRecords,function(e,i){return s("div",{key:i,staticClass:"record-item"},[s("div",{staticClass:"record-icon"},[s("i",{class:e.icon,style:{color:e.color}})]),s("div",{staticClass:"record-content"},[s("div",{staticClass:"record-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"record-time"},[t._v(t._s(t.formatRecordTime(e.createTime)))])]),s("div",{staticClass:"record-points negative"},[t._v(t._s(e.points))])])}),0)])],1)],1)])])],1)},i,!1,null,"56b3a188",null);e.default=r.exports}}]);