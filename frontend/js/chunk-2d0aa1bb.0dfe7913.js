(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0aa1bb"],{1039:function(t,n,e){"use strict";e.r(n);var i=e("1da1"),a=e("d4ec"),o=e("bee2"),r=(e("96cf"),e("d3b7"),e("159b"),e("caad"),e("2532"),e("cb29"),e("a434"),e("ac1f"),e("1276"),function(){function t(){Object(a.a)(this,t),this.container=null,this.currentEffect=null,this.backgroundImage=null,this.opacity=.8}return Object(o.a)(t,[{key:"initContainer",value:function(){var t=this;if(!this.container){if(this.container=document.createElement("div"),this.container.id="enhanced-background-container",null!==document.querySelector(".signature-wall")){this.container.style.cssText="\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n          z-index: 0;\n          opacity: ".concat(this.opacity,";\n        ");(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise(function(e){var i=0;!function a(){var o=document.querySelector(t);o||i>=n?e(o):(i++,setTimeout(a,100))}()})})(".page-container-wrap").then(function(n){n?("static"===window.getComputedStyle(n).position&&(n.style.position="relative"),n.firstChild?n.insertBefore(t.container,n.firstChild):n.appendChild(t.container)):(t.container.style.position="fixed",t.container.style.top="50vh",t.container.style.height="50vh",document.body.appendChild(t.container))})}else this.container.style.cssText="\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100vh;\n          pointer-events: none;\n          z-index: 0;\n          opacity: ".concat(this.opacity,";\n        "),document.body.firstChild?document.body.insertBefore(this.container,document.body.firstChild):document.body.appendChild(this.container);setTimeout(function(){t.ensureContentTransparent()},100)}return this.container}},{key:"ensureContentTransparent",value:function(){[".page-container-wrap",".article-content",".article-container",".content-wrapper"].forEach(function(t){document.querySelectorAll(t).forEach(function(t){if(t){var n=window.getComputedStyle(t).backgroundColor,e=window.getComputedStyle(t).backgroundImage;"rgb(255, 255, 255)"!==n&&"white"!==n&&!n.includes("255, 255, 255")||"none"!==e&&e||(t.dataset.originalBg||(t.dataset.originalBg=n),t.style.backgroundColor="transparent")}})})}},{key:"setOpacity",value:function(t){this.opacity=t,this.container&&(this.container.style.opacity=t)}},{key:"setImageBackground",value:function(t){this.clear();var n=this.initContainer();n&&(this.backgroundImage=document.createElement("div"),this.backgroundImage.style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-image: url('".concat(t,"');\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n      z-index: 1;\n    "),n.appendChild(this.backgroundImage))}},{key:"setParticleBackground",value:function(){var t=Object(i.a)(regeneratorRuntime.mark(function t(){var n,e,i,a,o,r,c,h=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.clear(),n=this.initContainer()){t.next=5;break}return t.abrupt("return");case 5:for((e=document.createElement("div")).style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      opacity: 0.3;\n      z-index: 0;\n    ",n.appendChild(e),(i=document.createElement("canvas")).width=window.innerWidth,i.height=window.innerHeight,i.style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 1;\n    ",n.appendChild(i),a=i.getContext("2d"),o=[],r=0;r<100;r++)o.push({x:Math.random()*i.width,y:Math.random()*i.height,vx:.5*(Math.random()-.5),vy:.5*(Math.random()-.5),radius:2*Math.random()+1});c=function t(){a.clearRect(0,0,i.width,i.height),o.forEach(function(t,n){t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>i.width)&&(t.vx=-t.vx),(t.y<0||t.y>i.height)&&(t.vy=-t.vy),a.fillStyle="#ffffff",a.beginPath(),a.arc(t.x,t.y,t.radius,0,2*Math.PI),a.fill();for(var e=n+1;e<o.length;e++){var r=o[e],c=t.x-r.x,h=t.y-r.y,s=Math.sqrt(c*c+h*h);s<150&&(a.strokeStyle="rgba(255, 255, 255, ".concat(1-s/150,")"),a.lineWidth=.5,a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(r.x,r.y),a.stroke())}}),h.animationId=requestAnimationFrame(t)},c(),this.currentEffect={canvas:i,animationId:this.animationId,testBg:e};case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setSakuraBackground",value:function(){var t=this;this.clear();var n=this.initContainer();if(n){var e=document.createElement("canvas");e.width=window.innerWidth,e.height=window.innerHeight,e.style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    ",n.appendChild(e);for(var i=e.getContext("2d"),a=[],o=0;o<50;o++)a.push({x:Math.random()*e.width,y:Math.random()*e.height-e.height,size:10*Math.random()+5,speed:1*Math.random()+.5,swing:2*Math.random()-1,rotation:360*Math.random()});(function n(){i.clearRect(0,0,e.width,e.height),a.forEach(function(t){t.y+=t.speed,t.x+=t.swing,t.rotation+=2,t.y>e.height&&(t.y=-20,t.x=Math.random()*e.width),i.save(),i.translate(t.x,t.y),i.rotate(t.rotation*Math.PI/180),i.fillStyle="#FFB7DD",i.beginPath(),i.ellipse(0,0,t.size,.6*t.size,0,0,2*Math.PI),i.fill(),i.restore()}),t.animationId=requestAnimationFrame(n)})(),this.currentEffect={canvas:e,animationId:this.animationId}}}},{key:"setMeteorBackground",value:function(){var t=this;this.clear();var n=this.initContainer(),e=document.createElement("canvas");e.width=window.innerWidth,e.height=window.innerHeight,e.style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(to bottom, #000428, #004e92);\n    ",n.appendChild(e);var i=e.getContext("2d"),a=[];(function n(){i.fillStyle="rgba(0, 4, 40, 0.1)",i.fillRect(0,0,e.width,e.height),Math.random()<.02&&a.push({x:Math.random()*e.width,y:-50,length:80*Math.random()+50,speed:5*Math.random()+5,opacity:1}),a.forEach(function(t,n){if(t.y+=t.speed,t.x+=t.speed,t.opacity-=.01,t.opacity<=0||t.y>e.height)a.splice(n,1);else{var o=i.createLinearGradient(t.x,t.y,t.x-t.length,t.y-t.length);o.addColorStop(0,"rgba(255, 255, 255, ".concat(t.opacity,")")),o.addColorStop(1,"rgba(255, 255, 255, 0)"),i.strokeStyle=o,i.lineWidth=2,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(t.x-t.length,t.y-t.length),i.stroke()}}),t.animationId=requestAnimationFrame(n)})(),this.currentEffect={canvas:e,animationId:this.animationId}}},{key:"setTextScrollBackground",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.clear();var e=this.initContainer(),i=document.createElement("canvas");i.width=window.innerWidth,i.height=window.innerHeight,i.style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: #000;\n    ",e.appendChild(i);var a=i.getContext("2d"),o=(n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()诗意代码追风赶月").split(""),r=Math.floor(i.width/14),c=Array(r).fill(1);(function n(){a.fillStyle="rgba(0, 0, 0, 0.05)",a.fillRect(0,0,i.width,i.height),a.fillStyle="#0F0",a.font="".concat(14,"px monospace"),c.forEach(function(t,n){var e=o[Math.floor(Math.random()*o.length)];a.fillText(e,14*n,14*t),14*t>i.height&&Math.random()>.975&&(c[n]=0),c[n]++}),t.animationId=requestAnimationFrame(n)})(),this.currentEffect={canvas:i,animationId:this.animationId}}},{key:"clear",value:function(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.container&&(this.container.innerHTML=""),this.currentEffect=null,this.backgroundImage=null}},{key:"restoreOriginalBackground",value:function(){[".page-container-wrap",".article-content",".article-container",".content-wrapper"].forEach(function(t){document.querySelectorAll(t).forEach(function(t){t&&t.dataset.originalBg&&(t.style.backgroundColor=t.dataset.originalBg,delete t.dataset.originalBg)})})}},{key:"destroy",value:function(){this.clear(),this.restoreOriginalBackground(),this.container&&this.container.parentNode&&(this.container.parentNode.removeChild(this.container),this.container=null)}}]),t}());n.default=r}}]);