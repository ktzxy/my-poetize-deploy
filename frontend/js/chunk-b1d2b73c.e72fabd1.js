(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b1d2b73c"],{"648a":function(t,i,s){},"770a":function(t,i,s){"use strict";s("648a")},da66:function(t,i,s){"use strict";s.r(i);var e=(s("b64b"),{props:{showEmoji:{type:Boolean}},data:function(){return{emojiList:this.$constant.emojiList,emojiListURL:{},loading:!0,errorCount:0}},created:function(){var t=this;this.initEmojiList(),this.$watch(function(){return t.$store.state.sysConfig},function(){Object.keys(t.emojiListURL).length||t.initEmojiList()})},methods:{addEmoji:function(t){this.$emit("addEmoji",t)},initEmojiList:function(){try{this.loading=!0;var t=this.$store.state.sysConfig&&this.$store.state.sysConfig.webStaticResourcePrefix?this.$store.state.sysConfig.webStaticResourcePrefix:"http://localhost:8081/resourceStorage/static/";if(!t)return this.$message({message:"表情包资源未配置，请联系管理员在系统配置中添加 webStaticResourcePrefix",type:"warning",duration:5e3,showClose:!0}),void(this.loading=!1);this.emojiListURL=this.getEmojiList(this.emojiList,t),this.loading=!1}catch(t){this.$message({message:"表情包加载失败: "+t.message,type:"error",duration:3e3}),this.loading=!1}},getEmojiList:function(t,i){var s,e={};i||(i="http://localhost:8081/resourceStorage/static/");for(var o=0;o<t.length;o++){s=i+"static/emoji/q"+(o+1)+".gif",e["["+t[o]+"]"]=s}return e},handleImageError:function(t,i){this.errorCount++,t.target.style.display="none",this.errorCount>this.emojiList.length/2&&this.$message({message:"表情包加载失败，请检查网络或联系管理员",type:"warning",duration:3e3})}}}),o=e,n=(s("770a"),s("2877")),a=Object(n.a)(o,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("transition",{attrs:{name:"body"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmoji,expression:"showEmoji"}],staticClass:"emoji-container"},[t.loading?s("div",{staticClass:"emoji-loading"},[s("i",{staticClass:"el-icon-loading"}),t._v(" 加载中... ")]):t.loading||0!==Object.keys(t.emojiListURL).length?s("div",{staticClass:"emoji-list"},t._l(t.emojiListURL,function(i,e,o){return s("span",{key:o,staticClass:"emoji-item",on:{click:function(i){return t.addEmoji(e)}}},[s("img",{staticClass:"emoji",attrs:{loading:"lazy",src:i,title:e,width:"24px",height:"24px"},on:{error:function(i){return t.handleImageError(i,e)}}})])}),0):s("div",{staticClass:"emoji-empty"},[t._v(" 暂无表情 ")])])])],1)},[],!1,null,"433d0a14",null);i.default=a.exports}}]);